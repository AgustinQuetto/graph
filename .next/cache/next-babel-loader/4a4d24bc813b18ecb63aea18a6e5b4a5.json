{"ast":null,"code":"import React, { Component } from 'react';\nimport Script from 'react-load-script';\nexport default class extends Component {\n  static getInitialProps({\n    req\n  }) {\n    return {\n      graphData: req.graphData\n    };\n  }\n\n  componentDidMount() {\n    React.createElement(Script, {\n      url: \"https://unpkg.com/3d-force-graph@1.52.0/dist/3d-force-graph.min.js\",\n      onCreate: this.makeGraph.bind(this)\n    });\n  }\n\n  makeGraph() {\n    console.log(\"asd\");\n    const elem = document.getElementById('3d-graph');\n    console.log(window.ForceGraph3D());\n    const Graph = window.ForceGraph3D()(elem).graphData(this.props.graphData).nodeLabel('id').nodeAutoColorBy('group').onNodeHover(node => elem.style.cursor = node ? 'pointer' : null).onNodeClick(node => {\n      // Aim at node from outside it\n      const distance = 40;\n      const distRatio = 1 + distance / Math.hypot(node.x, node.y, node.z);\n      Graph.cameraPosition({\n        x: node.x * distRatio,\n        y: node.y * distRatio,\n        z: node.z * distRatio\n      }, // new position\n      node, // lookAt ({ x, y, z })\n      3000 // ms transition duration\n      );\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"3d-graph\"\n    });\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\Agustin\\Documents\\GitHub\\graph\\pages\\index.js"],"names":["React","Component","Script","getInitialProps","req","graphData","componentDidMount","makeGraph","bind","console","log","elem","document","getElementById","window","ForceGraph3D","Graph","props","nodeLabel","nodeAutoColorBy","onNodeHover","node","style","cursor","onNodeClick","distance","distRatio","Math","hypot","x","y","z","cameraPosition","render"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,eAAe,cAAcD,SAAd,CAAwB;AACrC,SAAOE,eAAP,CAAwB;AAAEC,IAAAA;AAAF,GAAxB,EAAiC;AAC/B,WAAO;AAAEC,MAAAA,SAAS,EAAED,GAAG,CAACC;AAAjB,KAAP;AACD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,wBAAC,MAAD;AACA,MAAA,GAAG,EAAC,oEADJ;AAEA,MAAA,QAAQ,EAAE,KAAKC,SAAL,CAAeC,IAAf,CAAoB,IAApB;AAFV;AAID;;AAEDD,EAAAA,SAAS,GAAG;AACVE,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACA,UAAMC,IAAI,GAAGC,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAAb;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAYI,MAAM,CAACC,YAAP,EAAZ;AACA,UAAMC,KAAK,GAAGF,MAAM,CAACC,YAAP,GACXJ,IADW,EAETN,SAFS,CAEC,KAAKY,KAAL,CAAWZ,SAFZ,EAGTa,SAHS,CAGC,IAHD,EAITC,eAJS,CAIO,OAJP,EAKTC,WALS,CAKGC,IAAI,IAAIV,IAAI,CAACW,KAAL,CAAWC,MAAX,GAAoBF,IAAI,GAAG,SAAH,GAAe,IALlD,EAMTG,WANS,CAMGH,IAAI,IAAI;AACnB;AACA,YAAMI,QAAQ,GAAG,EAAjB;AACA,YAAMC,SAAS,GAAG,IAAID,QAAQ,GAACE,IAAI,CAACC,KAAL,CAAWP,IAAI,CAACQ,CAAhB,EAAmBR,IAAI,CAACS,CAAxB,EAA2BT,IAAI,CAACU,CAAhC,CAA/B;AAEAf,MAAAA,KAAK,CAACgB,cAAN,CACE;AAAEH,QAAAA,CAAC,EAAER,IAAI,CAACQ,CAAL,GAASH,SAAd;AAAyBI,QAAAA,CAAC,EAAET,IAAI,CAACS,CAAL,GAASJ,SAArC;AAAgDK,QAAAA,CAAC,EAAEV,IAAI,CAACU,CAAL,GAASL;AAA5D,OADF,EAC2E;AACzEL,MAAAA,IAFF,EAEQ;AACN,UAHF,CAGQ;AAHR;AAKD,KAhBS,CAAd;AAiBD;;AAEDY,EAAAA,MAAM,GAAI;AACR,WACE;AAAK,MAAA,EAAE,EAAC;AAAR,MADF;AAGD;;AAvCoC","sourcesContent":["import React, { Component } from 'react'\nimport Script from 'react-load-script'\n\nexport default class extends Component {\n  static getInitialProps ({ req }) {\n    return { graphData: req.graphData}\n  }\n\n  componentDidMount() {\n    <Script\n    url=\"https://unpkg.com/3d-force-graph@1.52.0/dist/3d-force-graph.min.js\"\n    onCreate={this.makeGraph.bind(this)}\n  />\n  }\n\n  makeGraph() {\n    console.log(\"asd\")\n    const elem = document.getElementById('3d-graph');\n    console.log(window.ForceGraph3D())\n    const Graph = window.ForceGraph3D()\n      (elem)\n        .graphData(this.props.graphData)\n        .nodeLabel('id')\n        .nodeAutoColorBy('group')\n        .onNodeHover(node => elem.style.cursor = node ? 'pointer' : null)\n        .onNodeClick(node => {\n          // Aim at node from outside it\n          const distance = 40;\n          const distRatio = 1 + distance/Math.hypot(node.x, node.y, node.z);\n\n          Graph.cameraPosition(\n            { x: node.x * distRatio, y: node.y * distRatio, z: node.z * distRatio }, // new position\n            node, // lookAt ({ x, y, z })\n            3000  // ms transition duration\n          );\n        });\n  }\n\n  render () {\n    return (\n      <div id=\"3d-graph\"></div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}