// Version 1.25.0 three-forcegraph - https://github.com/vasturiano/three-forcegraph
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("three")):"function"==typeof define&&define.amd?define(["three"],t):(e=e||self).ThreeForceGraph=t(e.THREE)}(this,function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t,n){return(a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var a=[null];a.push.apply(a,t);var o=new(Function.bind.apply(e,a));return n&&r(o,n.prototype),o}).apply(null,arguments)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(e,t,n){var r;function a(){var a,o,i=r.length,f=0,c=0,u=0;for(a=0;a<i;++a)f+=(o=r[a]).x||0,c+=o.y||0,u+=o.z||0;for(f=f/i-e,c=c/i-t,u=u/i-n,a=0;a<i;++a)o=r[a],f&&(o.x-=f),c&&(o.y-=c),u&&(o.z-=u)}return null==e&&(e=0),null==t&&(t=0),null==n&&(n=0),a.initialize=function(e){r=e},a.x=function(t){return arguments.length?(e=+t,a):e},a.y=function(e){return arguments.length?(t=+e,a):t},a.z=function(e){return arguments.length?(n=+e,a):n},a}function c(e,t,n){if(isNaN(t))return e;var r,a,o,i,f,c,u=e._root,s={data:n},d=e._x0,l=e._x1;if(!u)return e._root=s,e;for(;u.length;)if((i=t>=(a=(d+l)/2))?d=a:l=a,r=u,!(u=u[f=+i]))return r[f]=s,e;if(t===(o=+e._x.call(null,u.data)))return s.next=u,r?r[f]=s:e._root=s,e;do{r=r?r[f]=new Array(2):e._root=new Array(2),(i=t>=(a=(d+l)/2))?d=a:l=a}while((f=+i)==(c=+(o>=a)));return r[c]=u,r[f]=s,e}function u(e,t,n){this.node=e,this.x0=t,this.x1=n}function s(e){return e[0]}function d(e,t){var n=new l(null==t?s:t,NaN,NaN);return null==e?n:n.addAll(e)}function l(e,t,n){this._x=e,this._x0=t,this._x1=n,this._root=void 0}function h(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var b=d.prototype=l.prototype;function p(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var a,o,i,f,c,u,s,d,l,h=e._root,b={data:r},p=e._x0,g=e._y0,y=e._x1,v=e._y1;if(!h)return e._root=b,e;for(;h.length;)if((u=t>=(o=(p+y)/2))?p=o:y=o,(s=n>=(i=(g+v)/2))?g=i:v=i,a=h,!(h=h[d=s<<1|u]))return a[d]=b,e;if(f=+e._x.call(null,h.data),c=+e._y.call(null,h.data),t===f&&n===c)return b.next=h,a?a[d]=b:e._root=b,e;do{a=a?a[d]=new Array(4):e._root=new Array(4),(u=t>=(o=(p+y)/2))?p=o:y=o,(s=n>=(i=(g+v)/2))?g=i:v=i}while((d=s<<1|u)==(l=(c>=i)<<1|f>=o));return a[l]=h,a[d]=b,e}function g(e,t,n,r,a){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=a}function y(e){return e[0]}function v(e){return e[1]}function m(e,t,n){var r=new x(null==t?y:t,null==n?v:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function x(e,t,n,r,a,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=a,this._y1=o,this._root=void 0}function w(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}b.copy=function(){var e,t,n=new l(this._x,this._x0,this._x1),r=this._root;if(!r)return n;if(!r.length)return n._root=h(r),n;for(e=[{source:r,target:n._root=new Array(2)}];r=e.pop();)for(var a=0;a<2;++a)(t=r.source[a])&&(t.length?e.push({source:t,target:r.target[a]=new Array(2)}):r.target[a]=h(t));return n},b.add=function(e){var t=+this._x.call(null,e);return c(this.cover(t),t,e)},b.addAll=function(e){var t,n,r=e.length,a=new Array(r),o=1/0,i=-1/0;for(t=0;t<r;++t)isNaN(n=+this._x.call(null,e[t]))||(a[t]=n,n<o&&(o=n),n>i&&(i=n));for(i<o&&(o=this._x0,i=this._x1),this.cover(o).cover(i),t=0;t<r;++t)c(this,a[t],e[t]);return this},b.cover=function(e){if(isNaN(e=+e))return this;var t=this._x0,n=this._x1;if(isNaN(t))n=(t=Math.floor(e))+1;else{if(!(t>e||e>n))return this;var r,a,o=n-t,i=this._root;switch(a=+(e<(t+n)/2)){case 0:do{(r=new Array(2))[a]=i,i=r}while(e>(n=t+(o*=2)));break;case 1:do{(r=new Array(2))[a]=i,i=r}while((t=n-(o*=2))>e)}this._root&&this._root.length&&(this._root=i)}return this._x0=t,this._x1=n,this},b.data=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},b.extent=function(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]},b.find=function(e,t){var n,r,a,o,i,f=this._x0,c=this._x1,s=[],d=this._root;for(d&&s.push(new u(d,f,c)),null==t?t=1/0:(f=e-t,c=e+t);o=s.pop();)if(!(!(d=o.node)||(r=o.x0)>c||(a=o.x1)<f))if(d.length){var l=(r+a)/2;s.push(new u(d[1],l,a),new u(d[0],r,l)),(i=+(e>=l))&&(o=s[s.length-1],s[s.length-1]=s[s.length-1-i],s[s.length-1-i]=o)}else{var h=Math.abs(e-+this._x.call(null,d.data));h<t&&(t=h,f=e-h,c=e+h,n=d.data)}return n},b.remove=function(e){if(isNaN(o=+this._x.call(null,e)))return this;var t,n,r,a,o,i,f,c,u,s=this._root,d=this._x0,l=this._x1;if(!s)return this;if(s.length)for(;;){if((f=o>=(i=(d+l)/2))?d=i:l=i,t=s,!(s=s[c=+f]))return this;if(!s.length)break;t[c+1&1]&&(n=t,u=c)}for(;s.data!==e;)if(r=s,!(s=s.next))return this;return(a=s.next)&&delete s.next,r?(a?r.next=a:delete r.next,this):t?(a?t[c]=a:delete t[c],(s=t[0]||t[1])&&s===(t[1]||t[0])&&!s.length&&(n?n[u]=s:this._root=s),this):(this._root=a,this)},b.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},b.root=function(){return this._root},b.size=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},b.visit=function(e){var t,n,r,a,o=[],i=this._root;for(i&&o.push(new u(i,this._x0,this._x1));t=o.pop();)if(!e(i=t.node,r=t.x0,a=t.x1)&&i.length){var f=(r+a)/2;(n=i[1])&&o.push(new u(n,f,a)),(n=i[0])&&o.push(new u(n,r,f))}return this},b.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new u(this._root,this._x0,this._x1));t=n.pop();){var a=t.node;if(a.length){var o,i=t.x0,f=t.x1,c=(i+f)/2;(o=a[0])&&n.push(new u(o,i,c)),(o=a[1])&&n.push(new u(o,c,f))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.x1);return this},b.x=function(e){return arguments.length?(this._x=e,this):this._x};var _=m.prototype=x.prototype;function M(e,t,n,r,a){if(isNaN(t)||isNaN(n)||isNaN(r))return e;var o,i,f,c,u,s,d,l,h,b,p,g,y=e._root,v={data:a},m=e._x0,x=e._y0,w=e._z0,_=e._x1,M=e._y1,k=e._z1;if(!y)return e._root=v,e;for(;y.length;)if((l=t>=(i=(m+_)/2))?m=i:_=i,(h=n>=(f=(x+M)/2))?x=f:M=f,(b=r>=(c=(w+k)/2))?w=c:k=c,o=y,!(y=y[p=b<<2|h<<1|l]))return o[p]=v,e;if(u=+e._x.call(null,y.data),s=+e._y.call(null,y.data),d=+e._z.call(null,y.data),t===u&&n===s&&r===d)return v.next=y,o?o[p]=v:e._root=v,e;do{o=o?o[p]=new Array(8):e._root=new Array(8),(l=t>=(i=(m+_)/2))?m=i:_=i,(h=n>=(f=(x+M)/2))?x=f:M=f,(b=r>=(c=(w+k)/2))?w=c:k=c}while((p=b<<2|h<<1|l)==(g=(d>=c)<<2|(s>=f)<<1|u>=i));return o[g]=y,o[p]=v,e}function k(e,t,n,r,a,o,i){this.node=e,this.x0=t,this.y0=n,this.z0=r,this.x1=a,this.y1=o,this.z1=i}function N(e){return e[0]}function A(e){return e[1]}function z(e){return e[2]}function C(e,t,n,r){var a=new T(null==t?N:t,null==n?A:n,null==r?z:r,NaN,NaN,NaN,NaN,NaN,NaN);return null==e?a:a.addAll(e)}function T(e,t,n,r,a,o,i,f,c){this._x=e,this._y=t,this._z=n,this._x0=r,this._y0=a,this._z0=o,this._x1=i,this._y1=f,this._z1=c,this._root=void 0}function q(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}_.copy=function(){var e,t,n=new x(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=w(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var a=0;a<4;++a)(t=r.source[a])&&(t.length?e.push({source:t,target:r.target[a]=new Array(4)}):r.target[a]=w(t));return n},_.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return p(this.cover(t,n),t,n,e)},_.addAll=function(e){var t,n,r,a,o=e.length,i=new Array(o),f=new Array(o),c=1/0,u=1/0,s=-1/0,d=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(a=+this._y.call(null,t))||(i[n]=r,f[n]=a,r<c&&(c=r),r>s&&(s=r),a<u&&(u=a),a>d&&(d=a));if(c>s||u>d)return this;for(this.cover(c,u).cover(s,d),n=0;n<o;++n)p(this,i[n],f[n],e[n]);return this},_.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,a=this._x1,o=this._y1;if(isNaN(n))a=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var i,f,c=a-n,u=this._root;n>e||e>=a||r>t||t>=o;)switch(f=(t<r)<<1|e<n,(i=new Array(4))[f]=u,u=i,c*=2,f){case 0:a=n+c,o=r+c;break;case 1:n=a-c,o=r+c;break;case 2:a=n+c,r=o-c;break;case 3:n=a-c,r=o-c}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=a,this._y1=o,this},_.data=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},_.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},_.find=function(e,t,n){var r,a,o,i,f,c,u,s=this._x0,d=this._y0,l=this._x1,h=this._y1,b=[],p=this._root;for(p&&b.push(new g(p,s,d,l,h)),null==n?n=1/0:(s=e-n,d=t-n,l=e+n,h=t+n,n*=n);c=b.pop();)if(!(!(p=c.node)||(a=c.x0)>l||(o=c.y0)>h||(i=c.x1)<s||(f=c.y1)<d))if(p.length){var y=(a+i)/2,v=(o+f)/2;b.push(new g(p[3],y,v,i,f),new g(p[2],a,v,y,f),new g(p[1],y,o,i,v),new g(p[0],a,o,y,v)),(u=(t>=v)<<1|e>=y)&&(c=b[b.length-1],b[b.length-1]=b[b.length-1-u],b[b.length-1-u]=c)}else{var m=e-+this._x.call(null,p.data),x=t-+this._y.call(null,p.data),w=m*m+x*x;if(w<n){var _=Math.sqrt(n=w);s=e-_,d=t-_,l=e+_,h=t+_,r=p.data}}return r},_.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(i=+this._y.call(null,e)))return this;var t,n,r,a,o,i,f,c,u,s,d,l,h=this._root,b=this._x0,p=this._y0,g=this._x1,y=this._y1;if(!h)return this;if(h.length)for(;;){if((u=o>=(f=(b+g)/2))?b=f:g=f,(s=i>=(c=(p+y)/2))?p=c:y=c,t=h,!(h=h[d=s<<1|u]))return this;if(!h.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,l=d)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(a=h.next)&&delete h.next,r?(a?r.next=a:delete r.next,this):t?(a?t[d]=a:delete t[d],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[l]=h:this._root=h),this):(this._root=a,this)},_.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},_.root=function(){return this._root},_.size=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},_.visit=function(e){var t,n,r,a,o,i,f=[],c=this._root;for(c&&f.push(new g(c,this._x0,this._y0,this._x1,this._y1));t=f.pop();)if(!e(c=t.node,r=t.x0,a=t.y0,o=t.x1,i=t.y1)&&c.length){var u=(r+o)/2,s=(a+i)/2;(n=c[3])&&f.push(new g(n,u,s,o,i)),(n=c[2])&&f.push(new g(n,r,s,u,i)),(n=c[1])&&f.push(new g(n,u,a,o,s)),(n=c[0])&&f.push(new g(n,r,a,u,s))}return this},_.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new g(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var a=t.node;if(a.length){var o,i=t.x0,f=t.y0,c=t.x1,u=t.y1,s=(i+c)/2,d=(f+u)/2;(o=a[0])&&n.push(new g(o,i,f,s,d)),(o=a[1])&&n.push(new g(o,s,f,c,d)),(o=a[2])&&n.push(new g(o,i,d,s,u)),(o=a[3])&&n.push(new g(o,s,d,c,u))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},_.x=function(e){return arguments.length?(this._x=e,this):this._x},_.y=function(e){return arguments.length?(this._y=e,this):this._y};var P=C.prototype=T.prototype;function D(e){return function(){return e}}function E(){return 1e-6*(Math.random()-.5)}function S(e){return e.index}function O(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function L(e){var t,n,r,a,o,i,f=S,c=function(e){return 1/Math.min(o[e.source.index],o[e.target.index])},u=D(30),s=1;function d(r){for(var o=0,f=e.length;o<s;++o)for(var c,u,d,l,h,b=0,p=0,g=0,y=0;b<f;++b)u=(c=e[b]).source,p=(d=c.target).x+d.vx-u.x-u.vx||E(),a>1&&(g=d.y+d.vy-u.y-u.vy||E()),a>2&&(y=d.z+d.vz-u.z-u.vz||E()),p*=l=((l=Math.sqrt(p*p+g*g+y*y))-n[b])/l*r*t[b],g*=l,y*=l,d.vx-=p*(h=i[b]),a>1&&(d.vy-=g*h),a>2&&(d.vz-=y*h),u.vx+=p*(h=1-h),a>1&&(u.vy+=g*h),a>2&&(u.vz+=y*h)}function l(){if(r){var a,c,u=r.length,s=e.length,d=new Map(r.map((e,t)=>[f(e,t,r),e]));for(a=0,o=new Array(u);a<s;++a)(c=e[a]).index=a,"object"!=typeof c.source&&(c.source=O(d,c.source)),"object"!=typeof c.target&&(c.target=O(d,c.target)),o[c.source.index]=(o[c.source.index]||0)+1,o[c.target.index]=(o[c.target.index]||0)+1;for(a=0,i=new Array(s);a<s;++a)c=e[a],i[a]=o[c.source.index]/(o[c.source.index]+o[c.target.index]);t=new Array(s),h(),n=new Array(s),b()}}function h(){if(r)for(var n=0,a=e.length;n<a;++n)t[n]=+c(e[n],n,e)}function b(){if(r)for(var t=0,a=e.length;t<a;++t)n[t]=+u(e[t],t,e)}return null==e&&(e=[]),d.initialize=function(e,t){r=e,a=t,l()},d.links=function(t){return arguments.length?(e=t,l(),d):e},d.id=function(e){return arguments.length?(f=e,d):f},d.iterations=function(e){return arguments.length?(s=+e,d):s},d.strength=function(e){return arguments.length?(c="function"==typeof e?e:D(+e),h(),d):c},d.distance=function(e){return arguments.length?(u="function"==typeof e?e:D(+e),b(),d):u},d}P.copy=function(){var e,t,n=new T(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),r=this._root;if(!r)return n;if(!r.length)return n._root=q(r),n;for(e=[{source:r,target:n._root=new Array(8)}];r=e.pop();)for(var a=0;a<8;++a)(t=r.source[a])&&(t.length?e.push({source:t,target:r.target[a]=new Array(8)}):r.target[a]=q(t));return n},P.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e),r=+this._z.call(null,e);return M(this.cover(t,n,r),t,n,r,e)},P.addAll=function(e){var t,n,r,a,o,i=e.length,f=new Array(i),c=new Array(i),u=new Array(i),s=1/0,d=1/0,l=1/0,h=-1/0,b=-1/0,p=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(a=+this._y.call(null,t))||isNaN(o=+this._z.call(null,t))||(f[n]=r,c[n]=a,u[n]=o,r<s&&(s=r),r>h&&(h=r),a<d&&(d=a),a>b&&(b=a),o<l&&(l=o),o>p&&(p=o));for(h<s&&(s=this._x0,h=this._x1),b<d&&(d=this._y0,b=this._y1),p<l&&(l=this._z0,p=this._z1),this.cover(s,d,l).cover(h,b,p),n=0;n<i;++n)M(this,f[n],c[n],u[n],e[n]);return this},P.cover=function(e,t,n){if(isNaN(e=+e)||isNaN(t=+t)||isNaN(n=+n))return this;var r=this._x0,a=this._y0,o=this._z0,i=this._x1,f=this._y1,c=this._z1;if(isNaN(r))i=(r=Math.floor(e))+1,f=(a=Math.floor(t))+1,c=(o=Math.floor(n))+1;else{if(!(r>e||e>i||a>t||t>f||o>n||n>c))return this;var u,s,d=i-r,l=this._root;switch(s=(n<(o+c)/2)<<2|(t<(a+f)/2)<<1|e<(r+i)/2){case 0:do{(u=new Array(8))[s]=l,l=u}while(f=a+(d*=2),c=o+d,e>(i=r+d)||t>f||n>c);break;case 1:do{(u=new Array(8))[s]=l,l=u}while(f=a+(d*=2),c=o+d,(r=i-d)>e||t>f||n>c);break;case 2:do{(u=new Array(8))[s]=l,l=u}while(a=f-(d*=2),c=o+d,e>(i=r+d)||a>t||n>c);break;case 3:do{(u=new Array(8))[s]=l,l=u}while(a=f-(d*=2),c=o+d,(r=i-d)>e||a>t||n>c);break;case 4:do{(u=new Array(8))[s]=l,l=u}while(f=a+(d*=2),o=c-d,e>(i=r+d)||t>f||o>n);break;case 5:do{(u=new Array(8))[s]=l,l=u}while(f=a+(d*=2),o=c-d,(r=i-d)>e||t>f||o>n);break;case 6:do{(u=new Array(8))[s]=l,l=u}while(a=f-(d*=2),o=c-d,e>(i=r+d)||a>t||o>n);break;case 7:do{(u=new Array(8))[s]=l,l=u}while(a=f-(d*=2),o=c-d,(r=i-d)>e||a>t||o>n)}this._root&&this._root.length&&(this._root=l)}return this._x0=r,this._y0=a,this._z0=o,this._x1=i,this._y1=f,this._z1=c,this},P.data=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},P.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},P.find=function(e,t,n,r){var a,o,i,f,c,u,s,d,l,h=this._x0,b=this._y0,p=this._z0,g=this._x1,y=this._y1,v=this._z1,m=[],x=this._root;for(x&&m.push(new k(x,h,b,p,g,y,v)),null==r?r=1/0:(h=e-r,b=t-r,p=n-r,g=e+r,y=t+r,v=n+r,r*=r);d=m.pop();)if(!(!(x=d.node)||(o=d.x0)>g||(i=d.y0)>y||(f=d.z0)>v||(c=d.x1)<h||(u=d.y1)<b||(s=d.z1)<p))if(x.length){var w=(o+c)/2,_=(i+u)/2,M=(f+s)/2;m.push(new k(x[7],w,_,M,c,u,s),new k(x[6],o,_,M,w,u,s),new k(x[5],w,i,M,c,_,s),new k(x[4],o,i,M,w,_,s),new k(x[3],w,_,f,c,u,M),new k(x[2],o,_,f,w,u,M),new k(x[1],w,i,f,c,_,M),new k(x[0],o,i,f,w,_,M)),(l=(n>=M)<<2|(t>=_)<<1|e>=w)&&(d=m[m.length-1],m[m.length-1]=m[m.length-1-l],m[m.length-1-l]=d)}else{var N=e-+this._x.call(null,x.data),A=t-+this._y.call(null,x.data),z=n-+this._z.call(null,x.data),C=N*N+A*A+z*z;if(C<r){var T=Math.sqrt(r=C);h=e-T,b=t-T,p=n-T,g=e+T,y=t+T,v=n+T,a=x.data}}return a},P.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(i=+this._y.call(null,e))||isNaN(f=+this._z.call(null,e)))return this;var t,n,r,a,o,i,f,c,u,s,d,l,h,b,p,g=this._root,y=this._x0,v=this._y0,m=this._z0,x=this._x1,w=this._y1,_=this._z1;if(!g)return this;if(g.length)for(;;){if((d=o>=(c=(y+x)/2))?y=c:x=c,(l=i>=(u=(v+w)/2))?v=u:w=u,(h=f>=(s=(m+_)/2))?m=s:_=s,t=g,!(g=g[b=h<<2|l<<1|d]))return this;if(!g.length)break;(t[b+1&7]||t[b+2&7]||t[b+3&7]||t[b+4&7]||t[b+5&7]||t[b+6&7]||t[b+7&7])&&(n=t,p=b)}for(;g.data!==e;)if(r=g,!(g=g.next))return this;return(a=g.next)&&delete g.next,r?(a?r.next=a:delete r.next,this):t?(a?t[b]=a:delete t[b],(g=t[0]||t[1]||t[2]||t[3]||t[4]||t[5]||t[6]||t[7])&&g===(t[7]||t[6]||t[5]||t[4]||t[3]||t[2]||t[1]||t[0])&&!g.length&&(n?n[p]=g:this._root=g),this):(this._root=a,this)},P.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},P.root=function(){return this._root},P.size=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},P.visit=function(e){var t,n,r,a,o,i,f,c,u=[],s=this._root;for(s&&u.push(new k(s,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=u.pop();)if(!e(s=t.node,r=t.x0,a=t.y0,o=t.z0,i=t.x1,f=t.y1,c=t.z1)&&s.length){var d=(r+i)/2,l=(a+f)/2,h=(o+c)/2;(n=s[7])&&u.push(new k(n,d,l,h,i,f,c)),(n=s[6])&&u.push(new k(n,r,l,h,d,f,c)),(n=s[5])&&u.push(new k(n,d,a,h,i,l,c)),(n=s[4])&&u.push(new k(n,r,a,h,d,l,c)),(n=s[3])&&u.push(new k(n,d,l,o,i,f,h)),(n=s[2])&&u.push(new k(n,r,l,o,d,f,h)),(n=s[1])&&u.push(new k(n,d,a,o,i,l,h)),(n=s[0])&&u.push(new k(n,r,a,o,d,l,h))}return this},P.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new k(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=n.pop();){var a=t.node;if(a.length){var o,i=t.x0,f=t.y0,c=t.z0,u=t.x1,s=t.y1,d=t.z1,l=(i+u)/2,h=(f+s)/2,b=(c+d)/2;(o=a[0])&&n.push(new k(o,i,f,c,l,h,b)),(o=a[1])&&n.push(new k(o,l,f,c,u,h,b)),(o=a[2])&&n.push(new k(o,i,h,c,l,s,b)),(o=a[3])&&n.push(new k(o,l,h,c,u,s,b)),(o=a[4])&&n.push(new k(o,i,f,b,l,h,d)),(o=a[5])&&n.push(new k(o,l,f,b,u,h,d)),(o=a[6])&&n.push(new k(o,i,h,b,l,s,d)),(o=a[7])&&n.push(new k(o,l,h,b,u,s,d))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.z0,t.x1,t.y1,t.z1);return this},P.x=function(e){return arguments.length?(this._x=e,this):this._x},P.y=function(e){return arguments.length?(this._y=e,this):this._y},P.z=function(e){return arguments.length?(this._z=e,this):this._z};var U={value:function(){}};function R(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r)throw new Error("illegal type: "+e);r[e]=[]}return new I(r)}function I(e){this._=e}function j(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}function B(e,t){for(var n,r=0,a=e.length;r<a;++r)if((n=e[r]).name===t)return n.value}function F(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=U,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}I.prototype=R.prototype={constructor:I,on:function(e,t){var n,r=this._,a=j(e+"",r),o=-1,i=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<i;)if(n=(e=a[o]).type)r[n]=F(r[n],e.name,t);else if(null==t)for(n in r)r[n]=F(r[n],e.name,null);return this}for(;++o<i;)if((n=(e=a[o]).type)&&(n=B(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new I(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,a=new Array(n),o=0;o<n;++o)a[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,a)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,o=r.length;a<o;++a)r[a].value.apply(t,n)}};var V,H,Y=0,X=0,G=0,$=1e3,Z=0,W=0,Q=0,J="object"==typeof performance&&performance.now?performance:Date,K="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ee(){return W||(K(te),W=J.now()+Q)}function te(){W=0}function ne(){this._call=this._time=this._next=null}function re(e,t,n){var r=new ne;return r.restart(e,t,n),r}function ae(){W=(Z=J.now())+Q,Y=X=0;try{!function(){ee(),++Y;for(var e,t=V;t;)(e=W-t._time)>=0&&t._call.call(null,e),t=t._next;--Y}()}finally{Y=0,function(){var e,t,n=V,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:V=t);H=e,ie(r)}(),W=0}}function oe(){var e=J.now(),t=e-Z;t>$&&(Q-=t,Z=e)}function ie(e){Y||(X&&(X=clearTimeout(X)),e-W>24?(e<1/0&&(X=setTimeout(ae,e-J.now()-Q)),G&&(G=clearInterval(G))):(G||(Z=J.now(),G=setInterval(oe,$)),Y=1,K(ae)))}ne.prototype=re.prototype={constructor:ne,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?ee():+n)+(null==t?0:+t),this._next||H===this||(H?H._next=this:V=this,H=this),this._call=e,this._time=n,ie()},stop:function(){this._call&&(this._call=null,this._time=1/0,ie())}};var fe=3;function ce(e){return e.x}function ue(e){return e.y}function se(e){return e.z}var de=10,le=Math.PI*(3-Math.sqrt(5)),he=Math.PI/24;function be(e,t){t=t||2;var n,r=Math.min(fe,Math.max(1,Math.round(t))),a=1,o=.001,i=1-Math.pow(o,1/300),f=0,c=.6,u=new Map,s=re(l),d=R("tick","end");function l(){h(),d.call("tick",n),a<o&&(s.stop(),d.call("end",n))}function h(t){var o,s,d=e.length;void 0===t&&(t=1);for(var l=0;l<t;++l)for(a+=(f-a)*i,u.forEach(function(e){e(a)}),o=0;o<d;++o)null==(s=e[o]).fx?s.x+=s.vx*=c:(s.x=s.fx,s.vx=0),r>1&&(null==s.fy?s.y+=s.vy*=c:(s.y=s.fy,s.vy=0)),r>2&&(null==s.fz?s.z+=s.vz*=c:(s.z=s.fz,s.vz=0));return n}function b(){for(var t,n=0,a=e.length;n<a;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),null!=t.fz&&(t.z=t.fz),isNaN(t.x)||r>1&&isNaN(t.y)||r>2&&isNaN(t.z)){var o=de*(r>2?Math.cbrt(n):r>1?Math.sqrt(n):n),i=n*le,f=n*he;t.x=o*(r>1?Math.cos(i):1),r>1&&(t.y=o*Math.sin(i)),r>2&&(t.z=o*Math.sin(f))}(isNaN(t.vx)||r>1&&isNaN(t.vy)||r>2&&isNaN(t.vz))&&(t.vx=0,r>1&&(t.vy=0),r>2&&(t.vz=0))}}function p(t){return t.initialize&&t.initialize(e,r),t}return null==e&&(e=[]),b(),n={tick:h,restart:function(){return s.restart(l),n},stop:function(){return s.stop(),n},numDimensions:function(e){return arguments.length?(r=Math.min(fe,Math.max(1,Math.round(e))),u.forEach(p),n):r},nodes:function(t){return arguments.length?(e=t,b(),u.forEach(p),n):e},alpha:function(e){return arguments.length?(a=+e,n):a},alphaMin:function(e){return arguments.length?(o=+e,n):o},alphaDecay:function(e){return arguments.length?(i=+e,n):+i},alphaTarget:function(e){return arguments.length?(f=+e,n):f},velocityDecay:function(e){return arguments.length?(c=1-e,n):1-c},force:function(e,t){return arguments.length>1?(null==t?u.delete(e):u.set(e,p(t)),n):u.get(e)},find:function(){var t,n,a,o,i,f,c=Array.prototype.slice.call(arguments),u=c.shift()||0,s=(r>1?c.shift():null)||0,d=(r>2?c.shift():null)||0,l=c.shift()||1/0,h=0,b=e.length;for(l*=l,h=0;h<b;++h)(o=(t=u-(i=e[h]).x)*t+(n=s-(i.y||0))*n+(a=d-(i.z||0))*a)<l&&(f=i,l=o);return f},on:function(e,t){return arguments.length>1?(d.on(e,t),n):d.on(e)}}}function pe(){var e,t,n,r,a,o=D(-30),i=1,f=1/0,c=.81;function u(a){var o,i=e.length,f=(1===t?d(e,ce):2===t?m(e,ce,ue):3===t?C(e,ce,ue,se):null).visitAfter(l);for(r=a,o=0;o<i;++o)n=e[o],f.visit(h)}function s(){if(e){var t,n,r=e.length;for(a=new Array(r),t=0;t<r;++t)n=e[t],a[n.index]=+o(n,t,e)}}function l(e){var n,r,o,i,f,c,u=0,s=0,d=e.length;if(d){for(o=i=f=c=0;c<d;++c)(n=e[c])&&(r=Math.abs(n.value))&&(u+=n.value,s+=r,o+=r*(n.x||0),i+=r*(n.y||0),f+=r*(n.z||0));u*=Math.sqrt(4/d),e.x=o/s,t>1&&(e.y=i/s),t>2&&(e.z=f/s)}else{(n=e).x=n.data.x,t>1&&(n.y=n.data.y),t>2&&(n.z=n.data.z);do{u+=a[n.data.index]}while(n=n.next)}e.value=u}function h(e,o,u,s,d){if(!e.value)return!0;var l=[u,s,d][t-1],h=e.x-n.x,b=t>1?e.y-n.y:0,p=t>2?e.z-n.z:0,g=l-o,y=h*h+b*b+p*p;if(g*g/c<y)return y<f&&(0===h&&(y+=(h=E())*h),t>1&&0===b&&(y+=(b=E())*b),t>2&&0===p&&(y+=(p=E())*p),y<i&&(y=Math.sqrt(i*y)),n.vx+=h*e.value*r/y,t>1&&(n.vy+=b*e.value*r/y),t>2&&(n.vz+=p*e.value*r/y)),!0;if(!(e.length||y>=f)){(e.data!==n||e.next)&&(0===h&&(y+=(h=E())*h),t>1&&0===b&&(y+=(b=E())*b),t>2&&0===p&&(y+=(p=E())*p),y<i&&(y=Math.sqrt(i*y)));do{e.data!==n&&(g=a[e.data.index]*r/y,n.vx+=h*g,t>1&&(n.vy+=b*g),t>2&&(n.vz+=p*g))}while(e=e.next)}}return u.initialize=function(n,r){e=n,t=r,s()},u.strength=function(e){return arguments.length?(o="function"==typeof e?e:D(+e),s(),u):o},u.distanceMin=function(e){return arguments.length?(i=e*e,u):Math.sqrt(i)},u.distanceMax=function(e){return arguments.length?(f=e*e,u):Math.sqrt(f)},u.theta=function(e){return arguments.length?(c=e*e,u):Math.sqrt(c)},u}var ge=function(e){!function(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],n=0;n<t.length;++n)if(e.hasOwnProperty(t[n]))throw new Error("Subject cannot be eventified, since it already has property '"+t[n]+"'")}(e);var t=function(e){var t=Object.create(null);return{on:function(n,r,a){if("function"!=typeof r)throw new Error("callback is expected to be a function");var o=t[n];return o||(o=t[n]=[]),o.push({callback:r,ctx:a}),e},off:function(n,r){var a=void 0===n;if(a)return t=Object.create(null),e;if(t[n]){var o="function"!=typeof r;if(o)delete t[n];else for(var i=t[n],f=0;f<i.length;++f)i[f].callback===r&&i.splice(f,1)}return e},fire:function(n){var r,a=t[n];if(!a)return e;arguments.length>1&&(r=Array.prototype.splice.call(arguments,1));for(var o=0;o<a.length;++o){var i=a[o];i.callback.apply(i.ctx,r)}return e}}}(e);return e.on=t.on,e.off=t.off,e.fire=t.fire,e};var ye=function(e){"uniqueLinkId"in(e=e||{})&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n","\n","Note: there is also change in default behavior: From now on each graph\nis considered to be not a multigraph by default (each edge is unique)."),e.multigraph=e.uniqueLinkId);void 0===e.multigraph&&(e.multigraph=!1);var t="function"==typeof Object.create?Object.create(null):{},n=[],r={},a=0,o=0,i=Object.keys?N:A,f=e.multigraph?function(e,t,n){var a=_e(e,t),o=r.hasOwnProperty(a);if(o||w(e,t)){o||(r[a]=0);var i="@"+ ++r[a];a=_e(e+i,t+i)}return new we(e,t,n,a)}:function(e,t,n){var r=_e(e,t);return new we(e,t,n,r)},c=[],u=_,s=_,d=_,l=_,h={addNode:y,addLink:function(e,t,r){d();var a=v(e)||y(e),o=v(t)||y(t),i=f(e,t,r);n.push(i),xe(a,i),e!==t&&xe(o,i);return u(i,"add"),l(),i},removeLink:x,removeNode:m,getNode:v,getNodesCount:function(){return a},getLinksCount:function(){return n.length},getLinks:function(e){var t=v(e);return t?t.links:null},forEachNode:i,forEachLinkedNode:function(e,n,r){var a=v(e);if(a&&a.links&&"function"==typeof n)return r?function(e,n,r){for(var a=0;a<e.length;++a){var o=e[a];if(o.fromId===n&&r(t[o.toId],o))return!0}}(a.links,e,n):function(e,n,r){for(var a=0;a<e.length;++a){var o=e[a],i=o.fromId===n?o.toId:o.fromId;if(r(t[i],o))return!0}}(a.links,e,n)},forEachLink:function(e){var t,r;if("function"==typeof e)for(t=0,r=n.length;t<r;++t)e(n[t])},beginUpdate:d,endUpdate:l,clear:function(){d(),i(function(e){m(e.id)}),l()},hasLink:w,hasNode:v,getLink:w};return ge(h),b=h.on,h.on=function(){return h.beginUpdate=d=M,h.endUpdate=l=k,u=p,s=g,h.on=b,b.apply(h,arguments)},h;var b;function p(e,t){c.push({link:e,changeType:t})}function g(e,t){c.push({node:e,changeType:t})}function y(e,n){if(void 0===e)throw new Error("Invalid node identifier");d();var r=v(e);return r?(r.data=n,s(r,"update")):(r=new me(e,n),a++,s(r,"add")),t[e]=r,l(),r}function v(e){return t[e]}function m(e){var n=v(e);if(!n)return!1;d();var r=n.links;if(r){n.links=null;for(var o=0;o<r.length;++o)x(r[o])}return delete t[e],a--,s(n,"remove"),l(),!0}function x(e){if(!e)return!1;var t=ve(e,n);if(t<0)return!1;d(),n.splice(t,1);var r=v(e.fromId),a=v(e.toId);return r&&(t=ve(e,r.links))>=0&&r.links.splice(t,1),a&&(t=ve(e,a.links))>=0&&a.links.splice(t,1),u(e,"remove"),l(),!0}function w(e,t){var n,r=v(e);if(!r||!r.links)return null;for(n=0;n<r.links.length;++n){var a=r.links[n];if(a.fromId===e&&a.toId===t)return a}return null}function _(){}function M(){o+=1}function k(){0===(o-=1)&&c.length>0&&(h.fire("changed",c),c.length=0)}function N(e){if("function"==typeof e)for(var n=Object.keys(t),r=0;r<n.length;++r)if(e(t[n[r]]))return!0}function A(e){var n;if("function"==typeof e)for(n in t)if(e(t[n]))return!0}};function ve(e,t){if(!t)return-1;if(t.indexOf)return t.indexOf(e);var n,r=t.length;for(n=0;n<r;n+=1)if(t[n]===e)return n;return-1}function me(e,t){this.id=e,this.links=null,this.data=t}function xe(e,t){e.links?e.links.push(t):e.links=[t]}function we(e,t,n,r){this.fromId=e,this.toId=t,this.data=n,this.id=r}function _e(e,t){return e.toString()+"👉 "+t.toString()}var Me=function(e,t,n,r,a){this.from=e,this.to=t,this.length=n,this.coeff=r,this.weight="number"==typeof a?a:1};var ke=function(e,t,n){if("[object Array]"===Object.prototype.toString.call(n))for(var r=0;r<n.length;++r)Ne(e,t,n[r]);else for(var a in e)Ne(e,t,a)};function Ne(e,t,n){if(e.hasOwnProperty(n)){if("function"==typeof t[n])return;t[n]=function(r){return void 0!==r?(e[n]=r,t):e[n]}}}var Ae=function e(t,n){var r;t||(t={});if(n)for(r in n)if(n.hasOwnProperty(r)){var a=t.hasOwnProperty(r),o=typeof n[r],i=!a||typeof t[r]!==o;i?t[r]=n[r]:"object"===o&&(t[r]=e(t[r],n[r]))}return t};var ze=function(e){!function(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],n=0;n<t.length;++n)if(e.hasOwnProperty(t[n]))throw new Error("Subject cannot be eventified, since it already has property '"+t[n]+"'")}(e);var t=function(e){var t=Object.create(null);return{on:function(n,r,a){if("function"!=typeof r)throw new Error("callback is expected to be a function");var o=t[n];return o||(o=t[n]=[]),o.push({callback:r,ctx:a}),e},off:function(n,r){var a=void 0===n;if(a)return t=Object.create(null),e;if(t[n]){var o="function"!=typeof r;if(o)delete t[n];else for(var i=t[n],f=0;f<i.length;++f)i[f].callback===r&&i.splice(f,1)}return e},fire:function(n){var r,a=t[n];if(!a)return e;arguments.length>1&&(r=Array.prototype.splice.call(arguments,1));for(var o=0;o<a.length;++o){var i=a[o];i.callback.apply(i.ctx,r)}return e}}}(e);return e.on=t.on,e.off=t.off,e.fire=t.fire,e};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function Ce(e,t){return e(t={exports:{}},t.exports),t.exports}var Te=Ce(function(e){function t(e){return new n("number"==typeof e?e:+new Date)}function n(e){this.seed=e}function r(){var e=this.seed;return e=4294967295&(3042594569^(e=(e=4294967295&((e=(e=4294967295&(3345072700^(e=e+2127912214+(e<<12)&4294967295)^e>>>19))+374761393+(e<<5)&4294967295)+3550635116^e<<9))+4251993797+(e<<3)&4294967295)^e>>>16),this.seed=e,(268435455&e)/268435456}e.exports=t,e.exports.random=t,e.exports.randomIterator=function(e,n){var r=n||t();if("function"!=typeof r.next)throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:function(t){var n,a,o;for(n=e.length-1;n>0;--n)a=r.next(n+1),o=e[a],e[a]=e[n],e[n]=o,t(o);e.length&&t(e[0])},shuffle:function(){var t,n,a;for(t=e.length-1;t>0;--t)n=r.next(t+1),a=e[n],e[n]=e[t],e[t]=a;return e}}},n.prototype.next=function(e){return Math.floor(this.nextDouble()*e)},n.prototype.nextDouble=r,n.prototype.uniform=r,n.prototype.gaussian=function(){var e,t,n;do{t=2*this.nextDouble()-1,n=2*this.nextDouble()-1,e=t*t+n*n}while(e>=1||0===e);return t*Math.sqrt(-2*Math.log(e)/e)}}),qe=(Te.random,Te.randomIterator,function(){this.body=null,this.quad0=null,this.quad1=null,this.quad2=null,this.quad3=null,this.mass=0,this.massX=0,this.massY=0,this.left=0,this.top=0,this.bottom=0,this.right=0}),Pe=De;function De(){this.stack=[],this.popIdx=0}function Ee(e,t){this.node=e,this.body=t}De.prototype={isEmpty:function(){return 0===this.popIdx},push:function(e,t){var n=this.stack[this.popIdx];n?(n.node=e,n.body=t):this.stack[this.popIdx]=new Ee(e,t),++this.popIdx},pop:function(){if(this.popIdx>0)return this.stack[--this.popIdx]},reset:function(){this.popIdx=0}};var Se=function(e,t){var n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return n<1e-8&&r<1e-8},Oe=function(e){(e=e||{}).gravity="number"==typeof e.gravity?e.gravity:-1,e.theta="number"==typeof e.theta?e.theta:.8;var t=Te.random(1984),n=qe,r=Pe,a=Se,o=e.gravity,i=[],f=new r,c=e.theta,u=[],s=0,d=l();return{insertBodies:function(e){var t,n=Number.MAX_VALUE,r=Number.MAX_VALUE,a=Number.MIN_VALUE,o=Number.MIN_VALUE,i=e.length;t=i;for(;t--;){var f=e[t].pos.x,c=e[t].pos.y;f<n&&(n=f),f>a&&(a=f),c<r&&(r=c),c>o&&(o=c)}var u=a-n,b=o-r;u>b?o=r+u:a=n+b;s=0,(d=l()).left=n,d.right=a,d.top=r,d.bottom=o,(t=i-1)>=0&&(d.body=e[t]);for(;t--;)h(e[t])},getRoot:function(){return d},updateBodyForce:function(e){var n,r,a,f,u=i,s=0,l=0,h=1,b=0,p=1;u[0]=d;for(;h;){var g=u[b],y=g.body;h-=1,b+=1;var v=y!==e;y&&v?(r=y.pos.x-e.pos.x,a=y.pos.y-e.pos.y,0===(f=Math.sqrt(r*r+a*a))&&(r=(t.nextDouble()-.5)/50,a=(t.nextDouble()-.5)/50,f=Math.sqrt(r*r+a*a)),n=o*y.mass*e.mass/(f*f*f),s+=n*r,l+=n*a):v&&(r=g.massX/g.mass-e.pos.x,a=g.massY/g.mass-e.pos.y,0===(f=Math.sqrt(r*r+a*a))&&(r=(t.nextDouble()-.5)/50,a=(t.nextDouble()-.5)/50,f=Math.sqrt(r*r+a*a)),(g.right-g.left)/f<c?(n=o*g.mass*e.mass/(f*f*f),s+=n*r,l+=n*a):(g.quad0&&(u[p]=g.quad0,h+=1,p+=1),g.quad1&&(u[p]=g.quad1,h+=1,p+=1),g.quad2&&(u[p]=g.quad2,h+=1,p+=1),g.quad3&&(u[p]=g.quad3,h+=1,p+=1)))}e.force.x+=s,e.force.y+=l},options:function(e){return e?("number"==typeof e.gravity&&(o=e.gravity),"number"==typeof e.theta&&(c=e.theta),this):{gravity:o,theta:c}}};function l(){var e=u[s];return e?(e.quad0=null,e.quad1=null,e.quad2=null,e.quad3=null,e.body=null,e.mass=e.massX=e.massY=0,e.left=e.right=e.top=e.bottom=0):(e=new n,u[s]=e),++s,e}function h(e){for(f.reset(),f.push(d,e);!f.isEmpty();){var n=f.pop(),r=n.node,o=n.body;if(r.body){var i=r.body;if(r.body=null,a(i.pos,o.pos)){var c=3;do{var u=t.nextDouble(),s=(r.right-r.left)*u,h=(r.bottom-r.top)*u;i.pos.x=r.left+s,i.pos.y=r.top+h,c-=1}while(c>0&&a(i.pos,o.pos));if(0===c&&a(i.pos,o.pos))return}f.push(r,i),f.push(r,o)}else{var b=o.pos.x,p=o.pos.y;r.mass=r.mass+o.mass,r.massX=r.massX+o.mass*b,r.massY=r.massY+o.mass*p;var g=0,y=r.left,v=(r.right+y)/2,m=r.top,x=(r.bottom+m)/2;b>v&&(g+=1,y=v,v=r.right),p>x&&(g+=2,m=x,x=r.bottom);var w=Le(r,g);w?f.push(w,o):((w=l()).left=y,w.top=m,w.right=v,w.bottom=x,w.body=o,Ue(r,g,w))}}}};function Le(e,t){return 0===t?e.quad0:1===t?e.quad1:2===t?e.quad2:3===t?e.quad3:null}function Ue(e,t,n){0===t?e.quad0=n:1===t?e.quad1=n:2===t?e.quad2=n:3===t&&(e.quad3=n)}var Re=Ce(function(e){function t(e){return new n("number"==typeof e?e:+new Date)}function n(e){this.seed=e}function r(){var e=this.seed;return e=4294967295&(3042594569^(e=(e=4294967295&((e=(e=4294967295&(3345072700^(e=e+2127912214+(e<<12)&4294967295)^e>>>19))+374761393+(e<<5)&4294967295)+3550635116^e<<9))+4251993797+(e<<3)&4294967295)^e>>>16),this.seed=e,(268435455&e)/268435456}e.exports=t,e.exports.random=t,e.exports.randomIterator=function(e,n){var r=n||t();if("function"!=typeof r.next)throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:function(t){var n,a,o;for(n=e.length-1;n>0;--n)a=r.next(n+1),o=e[a],e[a]=e[n],e[n]=o,t(o);e.length&&t(e[0])},shuffle:function(){var t,n,a;for(t=e.length-1;t>0;--t)n=r.next(t+1),a=e[n],e[n]=e[t],e[t]=a;return e}}},n.prototype.next=function(e){return Math.floor(this.nextDouble()*e)},n.prototype.nextDouble=r,n.prototype.uniform=r,n.prototype.gaussian=function(){var e,t,n;do{t=2*this.nextDouble()-1,n=2*this.nextDouble()-1,e=t*t+n*n}while(e>=1||0===e);return t*Math.sqrt(-2*Math.log(e)/e)}}),Ie=(Re.random,Re.randomIterator,function(e,t){var n=Re.random(42),r={x1:0,y1:0,x2:0,y2:0};return{box:r,update:function(){var t=e.length;if(0===t)return;var n=Number.MAX_VALUE,a=Number.MAX_VALUE,o=Number.MIN_VALUE,i=Number.MIN_VALUE;for(;t--;){var f=e[t];f.isPinned?(f.pos.x=f.prevPos.x,f.pos.y=f.prevPos.y):(f.prevPos.x=f.pos.x,f.prevPos.y=f.pos.y),f.pos.x<n&&(n=f.pos.x),f.pos.x>o&&(o=f.pos.x),f.pos.y<a&&(a=f.pos.y),f.pos.y>i&&(i=f.pos.y)}r.x1=n,r.x2=o,r.y1=a,r.y2=i},reset:function(){r.x1=r.y1=0,r.x2=r.y2=0},getBestNewPosition:function(e){var a=r,o=0,i=0;if(e.length){for(var f=0;f<e.length;++f)o+=e[f].pos.x,i+=e[f].pos.y;o/=e.length,i/=e.length}else o=(a.x1+a.x2)/2,i=(a.y1+a.y2)/2;var c=t.springLength;return{x:o+n.next(c)-c/2,y:i+n.next(c)-c/2}}}}),je=function(e){var t={update:function(t){t.force.x-=e.dragCoeff*t.velocity.x,t.force.y-=e.dragCoeff*t.velocity.y}};return ke(e=Ae(e,{dragCoeff:.02}),t,["dragCoeff"]),t},Be=function(e){var t=Ae,n=Re.random(42),r={update:function(t){var r=t.from,a=t.to,o=t.length<0?e.springLength:t.length,i=a.pos.x-r.pos.x,f=a.pos.y-r.pos.y,c=Math.sqrt(i*i+f*f);0===c&&(i=(n.nextDouble()-.5)/50,f=(n.nextDouble()-.5)/50,c=Math.sqrt(i*i+f*f));var u=c-o,s=(!t.coeff||t.coeff<0?e.springCoeff:t.coeff)*u/c*t.weight;r.force.x+=s*i,r.force.y+=s*f,a.force.x-=s*i,a.force.y-=s*f}};return ke(e=t(e,{springCoeff:2e-4,springLength:80}),r,["springCoeff","springLength"]),r},Fe=function(e,t){var n,r=0,a=0,o=0,i=0,f=e.length;if(0===f)return 0;for(n=0;n<f;++n){var c=e[n],u=t/c.mass;c.velocity.x+=u*c.force.x,c.velocity.y+=u*c.force.y;var s=c.velocity.x,d=c.velocity.y,l=Math.sqrt(s*s+d*d);l>1&&(c.velocity.x=s/l,c.velocity.y=d/l),r=t*c.velocity.x,o=t*c.velocity.y,c.pos.x+=r,c.pos.y+=o,a+=Math.abs(r),i+=Math.abs(o)}return(a*a+i*i)/f};var Ve={Body:He,Vector2d:Ye,Body3d:Xe,Vector3d:Ge};function He(e,t){this.pos=new Ye(e,t),this.prevPos=new Ye(e,t),this.force=new Ye,this.velocity=new Ye,this.mass=1}function Ye(e,t){e&&"number"!=typeof e?(this.x="number"==typeof e.x?e.x:0,this.y="number"==typeof e.y?e.y:0):(this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0)}function Xe(e,t,n){this.pos=new Ge(e,t,n),this.prevPos=new Ge(e,t,n),this.force=new Ge,this.velocity=new Ge,this.mass=1}function Ge(e,t,n){e&&"number"!=typeof e?(this.x="number"==typeof e.x?e.x:0,this.y="number"==typeof e.y?e.y:0,this.z="number"==typeof e.z?e.z:0):(this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0,this.z="number"==typeof n?n:0)}He.prototype.setPosition=function(e,t){this.prevPos.x=this.pos.x=e,this.prevPos.y=this.pos.y=t},Ye.prototype.reset=function(){this.x=this.y=0},Xe.prototype.setPosition=function(e,t,n){this.prevPos.x=this.pos.x=e,this.prevPos.y=this.pos.y=t,this.prevPos.z=this.pos.z=n},Ge.prototype.reset=function(){this.x=this.y=this.z=0};var $e=function(e){return new Ve.Body(e)},Ze=function(e){var t=Me,n=ke,r=ze,a=(e=Ae(e,{springLength:30,springCoeff:8e-4,gravity:-1.2,theta:.8,dragCoeff:.02,timeStep:20})).createQuadTree||Oe,o=e.createBounds||Ie,i=e.createDragForce||je,f=e.createSpringForce||Be,c=e.integrator||Fe,u=e.createBody||$e,s=[],d=[],l=a(e),h=o(s,e),b=f(e),p=i(e),g=!0,y={bodies:s,quadTree:l,springs:d,settings:e,step:function(){!function(){var e,t=s.length;if(t)for(l.insertBodies(s);t--;)(e=s[t]).isPinned||(e.force.reset(),l.updateBodyForce(e),p.update(e));t=d.length;for(;t--;)b.update(d[t])}();var t=c(s,e.timeStep);return h.update(),t},addBody:function(e){if(!e)throw new Error("Body is required");return s.push(e),e},addBodyAt:function(e){if(!e)throw new Error("Body position is required");var t=u(e);return s.push(t),t},removeBody:function(e){if(e){var t=s.indexOf(e);if(!(t<0))return s.splice(t,1),0===s.length&&h.reset(),!0}},addSpring:function(e,n,r,a,o){if(!e||!n)throw new Error("Cannot add null spring to force simulator");"number"!=typeof r&&(r=-1);var i=new t(e,n,r,o>=0?o:-1,a);return d.push(i),i},getTotalMovement:function(){return 0},removeSpring:function(e){if(e){var t=d.indexOf(e);return t>-1?(d.splice(t,1),!0):void 0}},getBestNewBodyPosition:function(e){return h.getBestNewPosition(e)},getBBox:function(){return g&&(h.update(),g=!1),h.box},invalidateBBox:function(){g=!0},gravity:function(t){return void 0!==t?(e.gravity=t,l.options({gravity:t}),this):e.gravity},theta:function(t){return void 0!==t?(e.theta=t,l.options({theta:t}),this):e.theta}};return n(e,y),r(y),y};var We=function(e){!function(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],n=0;n<t.length;++n)if(e.hasOwnProperty(t[n]))throw new Error("Subject cannot be eventified, since it already has property '"+t[n]+"'")}(e);var t=function(e){var t=Object.create(null);return{on:function(n,r,a){if("function"!=typeof r)throw new Error("callback is expected to be a function");var o=t[n];return o||(o=t[n]=[]),o.push({callback:r,ctx:a}),e},off:function(n,r){var a=void 0===n;if(a)return t=Object.create(null),e;if(t[n]){var o="function"!=typeof r;if(o)delete t[n];else for(var i=t[n],f=0;f<i.length;++f)i[f].callback===r&&i.splice(f,1)}return e},fire:function(n){var r,a=t[n];if(!a)return e;arguments.length>1&&(r=Array.prototype.splice.call(arguments,1));for(var o=0;o<a.length;++o){var i=a[o];i.callback.apply(i.ctx,r)}return e}}}(e);return e.on=t.on,e.off=t.off,e.fire=t.fire,e};var Qe=function(e,t){if(!e)throw new Error("Graph structure cannot be undefined");var n=Ze(t),r=function(t){var n=e.getLinks(t);return n?1+n.length/3:1};t&&"function"==typeof t.nodeMass&&(r=t.nodeMass);var a=Object.create(null),o={},i=0,f=n.settings.springTransform||Ke;i=0,e.forEachNode(function(e){d(e.id),i+=1}),e.forEachLink(h),e.on("changed",s);var c=!1,u={step:function(){if(0===i)return!0;var e=n.step();u.lastMove=e,u.fire("step");var t,r=e/i,a=r<=.01;return c!==a&&(c=a,t=a,u.fire("stable",t)),a},getNodePosition:function(e){return g(e).pos},setNodePosition:function(e){var t=g(e);t.setPosition.apply(t,Array.prototype.slice.call(arguments,1)),n.invalidateBBox()},getLinkPosition:function(e){var t=o[e];if(t)return{from:t.from.pos,to:t.to.pos}},getGraphRect:function(){return n.getBBox()},forEachBody:function(e){Object.keys(a).forEach(function(t){e(a[t],t)})},pinNode:function(e,t){var n=g(e.id);n.isPinned=!!t},isNodePinned:function(e){return g(e.id).isPinned},dispose:function(){e.off("changed",s),u.fire("disposed")},getBody:function(e){return a[e]},getSpring:function(t,n){var r;if(void 0===n)r="object"!=typeof t?t:t.id;else{var a=e.hasLink(t,n);if(!a)return;r=a.id}return o[r]},simulator:n,graph:e,lastMove:0};return We(u),u;function s(t){for(var n=0;n<t.length;++n){var r=t[n];"add"===r.changeType?(r.node&&d(r.node.id),r.link&&h(r.link)):"remove"===r.changeType&&(r.node&&l(r.node),r.link&&b(r.link))}i=e.getNodesCount()}function d(t){var r=a[t];if(!r){var o=e.getNode(t);if(!o)throw new Error("initBody() was called with unknown node id");var i=o.position;if(!i){var f=function(e){var t=[];if(!e.links)return t;for(var n=Math.min(e.links.length,2),r=0;r<n;++r){var o=e.links[r],i=o.fromId!==e.id?a[o.fromId]:a[o.toId];i&&i.pos&&t.push(i)}return t}(o);i=n.getBestNewBodyPosition(f)}(r=n.addBodyAt(i)).id=t,a[t]=r,p(t),function(e){return e&&(e.isPinned||e.data&&e.data.isPinned)}(o)&&(r.isPinned=!0)}}function l(e){var t=e.id,r=a[t];r&&(a[t]=null,delete a[t],n.removeBody(r))}function h(e){p(e.fromId),p(e.toId);var t=a[e.fromId],r=a[e.toId],i=n.addSpring(t,r,e.length);f(e,i),o[e.id]=i}function b(t){var r=o[t.id];if(r){var a=e.getNode(t.fromId),i=e.getNode(t.toId);a&&p(a.id),i&&p(i.id),delete o[t.id],n.removeSpring(r)}}function p(e){var t=a[e];if(t.mass=r(e),Number.isNaN(t.mass))throw new Error("Node mass should be a number")}function g(e){var t=a[e];return t||(d(e),t=a[e]),t}},Je=Ze;function Ke(){}Qe.simulator=Je;var et=function(e,t,n,r,a){this.from=e,this.to=t,this.length=n,this.coeff=r,this.weight="number"==typeof a?a:1};var tt=function(e,t,n){if("[object Array]"===Object.prototype.toString.call(n))for(var r=0;r<n.length;++r)nt(e,t,n[r]);else for(var a in e)nt(e,t,a)};function nt(e,t,n){if(e.hasOwnProperty(n)){if("function"==typeof t[n])return;t[n]=function(r){return void 0!==r?(e[n]=r,t):e[n]}}}var rt=function e(t,n){var r;t||(t={});if(n)for(r in n)if(n.hasOwnProperty(r)){var a=t.hasOwnProperty(r),o=typeof n[r],i=!a||typeof t[r]!==o;i?t[r]=n[r]:"object"===o&&(t[r]=e(t[r],n[r]))}return t};var at={random:ot,randomIterator:function(e,t){var n=t||ot();if("function"!=typeof n.next)throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:function(t){var r,a,o;for(r=e.length-1;r>0;--r)a=n.next(r+1),o=e[a],e[a]=e[r],e[r]=o,t(o);e.length&&t(e[0])},shuffle:function(){var t,r,a;for(t=e.length-1;t>0;--t)r=n.next(t+1),a=e[r],e[r]=e[t],e[t]=a;return e}}}};function ot(e){var t="number"==typeof e?e:+new Date,n=function(){return(268435455&(t=4294967295&(3042594569^(t=(t=4294967295&((t=(t=4294967295&(3345072700^(t=t+2127912214+(t<<12)&4294967295)^t>>>19))+374761393+(t<<5)&4294967295)+3550635116^t<<9))+4251993797+(t<<3)&4294967295)^t>>>16)))/268435456};return{next:function(e){return Math.floor(n()*e)},nextDouble:function(){return n()}}}var it=function(){this.body=null,this.quad0=null,this.quad1=null,this.quad2=null,this.quad3=null,this.mass=0,this.massX=0,this.massY=0,this.left=0,this.top=0,this.bottom=0,this.right=0},ft=ct;function ct(){this.stack=[],this.popIdx=0}function ut(e,t){this.node=e,this.body=t}ct.prototype={isEmpty:function(){return 0===this.popIdx},push:function(e,t){var n=this.stack[this.popIdx];n?(n.node=e,n.body=t):this.stack[this.popIdx]=new ut(e,t),++this.popIdx},pop:function(){if(this.popIdx>0)return this.stack[--this.popIdx]},reset:function(){this.popIdx=0}};var st=function(e,t){var n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return n<1e-8&&r<1e-8},dt=function(e){(e=e||{}).gravity="number"==typeof e.gravity?e.gravity:-1,e.theta="number"==typeof e.theta?e.theta:.8;var t=at.random(1984),n=it,r=ft,a=st,o=e.gravity,i=[],f=new r,c=e.theta,u=[],s=0,d=function(){var e=u[s];return e?(e.quad0=null,e.quad1=null,e.quad2=null,e.quad3=null,e.body=null,e.mass=e.massX=e.massY=0,e.left=e.right=e.top=e.bottom=0):(e=new n,u[s]=e),++s,e},l=d(),h=function(e){for(f.reset(),f.push(l,e);!f.isEmpty();){var n=f.pop(),r=n.node,o=n.body;if(r.body){var i=r.body;if(r.body=null,a(i.pos,o.pos)){var c=3;do{var u=t.nextDouble(),s=(r.right-r.left)*u,h=(r.bottom-r.top)*u;i.pos.x=r.left+s,i.pos.y=r.top+h,c-=1}while(c>0&&a(i.pos,o.pos));if(0===c&&a(i.pos,o.pos))return}f.push(r,i),f.push(r,o)}else{var b=o.pos.x,p=o.pos.y;r.mass=r.mass+o.mass,r.massX=r.massX+o.mass*b,r.massY=r.massY+o.mass*p;var g=0,y=r.left,v=(r.right+y)/2,m=r.top,x=(r.bottom+m)/2;if(b>v){g+=1;var w=y;y=v,v+=v-w}if(p>x){g+=2;var _=m;m=x,x+=x-_}var M=lt(r,g);M?f.push(M,o):((M=d()).left=y,M.top=m,M.right=v,M.bottom=x,M.body=o,ht(r,g,M))}}};return{insertBodies:function(e){var t,n=Number.MAX_VALUE,r=Number.MAX_VALUE,a=Number.MIN_VALUE,o=Number.MIN_VALUE,i=e.length;for(t=i;t--;){var f=e[t].pos.x,c=e[t].pos.y;f<n&&(n=f),f>a&&(a=f),c<r&&(r=c),c>o&&(o=c)}var u=a-n,b=o-r;for(u>b?o=r+u:a=n+b,s=0,(l=d()).left=n,l.right=a,l.top=r,l.bottom=o,(t=i-1)>0&&(l.body=e[t]);t--;)h(e[t])},updateBodyForce:function(e){var n,r,a,f,u=i,s=0,d=0,h=1,b=0,p=1;for(u[0]=l;h;){var g=u[b],y=g.body;h-=1,b+=1;var v=y!==e;y&&v?(r=y.pos.x-e.pos.x,a=y.pos.y-e.pos.y,0===(f=Math.sqrt(r*r+a*a))&&(r=(t.nextDouble()-.5)/50,a=(t.nextDouble()-.5)/50,f=Math.sqrt(r*r+a*a)),s+=(n=o*y.mass*e.mass/(f*f*f))*r,d+=n*a):v&&(r=g.massX/g.mass-e.pos.x,a=g.massY/g.mass-e.pos.y,0===(f=Math.sqrt(r*r+a*a))&&(r=(t.nextDouble()-.5)/50,a=(t.nextDouble()-.5)/50,f=Math.sqrt(r*r+a*a)),(g.right-g.left)/f<c?(s+=(n=o*g.mass*e.mass/(f*f*f))*r,d+=n*a):(g.quad0&&(u[p]=g.quad0,h+=1,p+=1),g.quad1&&(u[p]=g.quad1,h+=1,p+=1),g.quad2&&(u[p]=g.quad2,h+=1,p+=1),g.quad3&&(u[p]=g.quad3,h+=1,p+=1)))}e.force.x+=s,e.force.y+=d},options:function(e){return e?("number"==typeof e.gravity&&(o=e.gravity),"number"==typeof e.theta&&(c=e.theta),this):{gravity:o,theta:c}}}};function lt(e,t){return 0===t?e.quad0:1===t?e.quad1:2===t?e.quad2:3===t?e.quad3:null}function ht(e,t,n){0===t?e.quad0=n:1===t?e.quad1=n:2===t?e.quad2=n:3===t&&(e.quad3=n)}var bt=function(e,t){var n=at.random(42),r={x1:0,y1:0,x2:0,y2:0};return{box:r,update:function(){var t=e.length;if(0===t)return;var n=Number.MAX_VALUE,a=Number.MAX_VALUE,o=Number.MIN_VALUE,i=Number.MIN_VALUE;for(;t--;){var f=e[t];f.isPinned?(f.pos.x=f.prevPos.x,f.pos.y=f.prevPos.y):(f.prevPos.x=f.pos.x,f.prevPos.y=f.pos.y),f.pos.x<n&&(n=f.pos.x),f.pos.x>o&&(o=f.pos.x),f.pos.y<a&&(a=f.pos.y),f.pos.y>i&&(i=f.pos.y)}r.x1=n,r.x2=o,r.y1=a,r.y2=i},reset:function(){r.x1=r.y1=0,r.x2=r.y2=0},getBestNewPosition:function(e){var a=r,o=0,i=0;if(e.length){for(var f=0;f<e.length;++f)o+=e[f].pos.x,i+=e[f].pos.y;o/=e.length,i/=e.length}else o=(a.x1+a.x2)/2,i=(a.y1+a.y2)/2;var c=t.springLength;return{x:o+n.next(c)-c/2,y:i+n.next(c)-c/2}}}},pt=function(e){var t={update:function(t){t.force.x-=e.dragCoeff*t.velocity.x,t.force.y-=e.dragCoeff*t.velocity.y}};return tt(e=rt(e,{dragCoeff:.02}),t,["dragCoeff"]),t},gt=function(e){var t=rt,n=at.random(42),r={update:function(t){var r=t.from,a=t.to,o=t.length<0?e.springLength:t.length,i=a.pos.x-r.pos.x,f=a.pos.y-r.pos.y,c=Math.sqrt(i*i+f*f);0===c&&(i=(n.nextDouble()-.5)/50,f=(n.nextDouble()-.5)/50,c=Math.sqrt(i*i+f*f));var u=c-o,s=(!t.coeff||t.coeff<0?e.springCoeff:t.coeff)*u/c*t.weight;r.force.x+=s*i,r.force.y+=s*f,a.force.x-=s*i,a.force.y-=s*f}};return tt(e=t(e,{springCoeff:2e-4,springLength:80}),r,["springCoeff","springLength"]),r},yt=function(e,t){var n,r=0,a=0,o=0,i=0,f=e.length;if(0===f)return 0;for(n=0;n<f;++n){var c=e[n],u=t/c.mass;c.velocity.x+=u*c.force.x,c.velocity.y+=u*c.force.y;var s=c.velocity.x,d=c.velocity.y,l=Math.sqrt(s*s+d*d);l>1&&(c.velocity.x=s/l,c.velocity.y=d/l),r=t*c.velocity.x,o=t*c.velocity.y,c.pos.x+=r,c.pos.y+=o,a+=Math.abs(r),i+=Math.abs(o)}return(a*a+i*i)/f};var vt={Body:mt,Vector2d:xt,Body3d:wt,Vector3d:_t};function mt(e,t){this.pos=new xt(e,t),this.prevPos=new xt(e,t),this.force=new xt,this.velocity=new xt,this.mass=1}function xt(e,t){e&&"number"!=typeof e?(this.x="number"==typeof e.x?e.x:0,this.y="number"==typeof e.y?e.y:0):(this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0)}function wt(e,t,n){this.pos=new _t(e,t,n),this.prevPos=new _t(e,t,n),this.force=new _t,this.velocity=new _t,this.mass=1}function _t(e,t,n){e&&"number"!=typeof e?(this.x="number"==typeof e.x?e.x:0,this.y="number"==typeof e.y?e.y:0,this.z="number"==typeof e.z?e.z:0):(this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0,this.z="number"==typeof n?n:0)}mt.prototype.setPosition=function(e,t){this.prevPos.x=this.pos.x=e,this.prevPos.y=this.pos.y=t},xt.prototype.reset=function(){this.x=this.y=0},wt.prototype.setPosition=function(e,t,n){this.prevPos.x=this.pos.x=e,this.prevPos.y=this.pos.y=t,this.prevPos.z=this.pos.z=n},_t.prototype.reset=function(){this.x=this.y=this.z=0};var Mt=function(e){return new vt.Body(e)},kt=function(e){var t=et,n=tt,r=ge,a=(e=rt(e,{springLength:30,springCoeff:8e-4,gravity:-1.2,theta:.8,dragCoeff:.02,timeStep:20,stableThreshold:.009})).createQuadTree||dt,o=e.createBounds||bt,i=e.createDragForce||pt,f=e.createSpringForce||gt,c=e.integrator||yt,u=e.createBody||Mt,s=[],d=[],l=a(e),h=o(s,e),b=f(e),p=i(e),g=0,y=!1,v={bodies:s,springs:d,settings:e,step:function(){!function(){var e,t=s.length;if(t)for(l.insertBodies(s);t--;)(e=s[t]).isPinned||(e.force.reset(),l.updateBodyForce(e),p.update(e));t=d.length;for(;t--;)b.update(d[t])}(),g=c(s,e.timeStep),h.update();var t=g<e.stableThreshold;return y!==t&&v.fire("stable",t),y=t,t},addBody:function(e){if(!e)throw new Error("Body is required");return s.push(e),e},addBodyAt:function(e){if(!e)throw new Error("Body position is required");var t=u(e);return s.push(t),t},removeBody:function(e){if(e){var t=s.indexOf(e);if(!(t<0))return s.splice(t,1),0===s.length&&h.reset(),!0}},addSpring:function(e,n,r,a,o){if(!e||!n)throw new Error("Cannot add null spring to force simulator");"number"!=typeof r&&(r=-1);var i=new t(e,n,r,o>=0?o:-1,a);return d.push(i),i},getTotalMovement:function(){return g},removeSpring:function(e){if(e){var t=d.indexOf(e);return t>-1?(d.splice(t,1),!0):void 0}},getBestNewBodyPosition:function(e){return h.getBestNewPosition(e)},getBBox:function(){return h.box},gravity:function(t){return void 0!==t?(e.gravity=t,l.options({gravity:t}),this):e.gravity},theta:function(t){return void 0!==t?(e.theta=t,l.options({theta:t}),this):e.theta}};return n(e,v),r(v),v};var Nt=function(e,t){if(!e)throw new Error("Graph structure cannot be undefined");var n=kt(t),r="function"==typeof Object.create?Object.create(null):{},a={},o=n.settings.springTransform||zt;e.forEachNode(function(e){u(e.id)}),e.forEachLink(d),e.on("changed",c),n.on("stable",f);var i={step:function(){return n.step()},getNodePosition:function(e){return b(e).pos},setNodePosition:function(e){var t=b(e);t.setPosition.apply(t,Array.prototype.slice.call(arguments,1))},getLinkPosition:function(e){var t=a[e];if(t)return{from:t.from.pos,to:t.to.pos}},getGraphRect:function(){return n.getBBox()},pinNode:function(e,t){var n=b(e.id);n.isPinned=!!t},isNodePinned:function(e){return b(e.id).isPinned},dispose:function(){e.off("changed",c),n.off("stable",f)},getBody:function(e){return r[e]},getSpring:function(t,n){var r;if(void 0===n)r="object"!=typeof t?t:t.id;else{var o=e.hasLink(t,n);if(!o)return;r=o.id}return a[r]},simulator:n};return ge(i),i;function f(e){i.fire("stable",e)}function c(e){for(var t=0;t<e.length;++t){var n=e[t];"add"===n.changeType?(n.node&&u(n.node.id),n.link&&d(n.link)):"remove"===n.changeType&&(n.node&&s(n.node),n.link&&l(n.link))}}function u(t){var a=r[t];if(!a){var o=e.getNode(t);if(!o)throw new Error("initBody() was called with unknown node id");var i=o.position;if(!i){var f=function(e){var t=[];if(!e.links)return t;for(var n=Math.min(e.links.length,2),a=0;a<n;++a){var o=e.links[a],i=o.fromId!==e.id?r[o.fromId]:r[o.toId];i&&i.pos&&t.push(i)}return t}(o);i=n.getBestNewBodyPosition(f)}a=n.addBodyAt(i),r[t]=a,h(t),function(e){return e&&(e.isPinned||e.data&&e.data.isPinned)}(o)&&(a.isPinned=!0)}}function s(e){var t=e.id,a=r[t];a&&(r[t]=null,delete r[t],n.removeBody(a))}function d(e){h(e.fromId),h(e.toId);var t=r[e.fromId],i=r[e.toId],f=n.addSpring(t,i,e.length);o(e,f),a[e.id]=f}function l(t){var r=a[t.id];if(r){var o=e.getNode(t.fromId),i=e.getNode(t.toId);o&&h(o.id),i&&h(i.id),delete a[t.id],n.removeSpring(r)}}function h(t){var n=r[t];n.mass=function(t){var n=e.getLinks(t);return n?1+n.length/3:1}(t)}function b(e){var t=r[e];return t||(u(e),t=r[e]),t}},At=kt;function zt(){}Nt.simulator=At;var Ct=function(){this.body=null,this.quad0=null,this.quad1=null,this.quad2=null,this.quad3=null,this.quad4=null,this.quad5=null,this.quad6=null,this.quad7=null,this.mass=0,this.massX=0,this.massY=0,this.massZ=0,this.left=0,this.top=0,this.bottom=0,this.right=0,this.front=0,this.back=0},Tt=qt;function qt(){this.stack=[],this.popIdx=0}function Pt(e,t){this.node=e,this.body=t}qt.prototype={isEmpty:function(){return 0===this.popIdx},push:function(e,t){var n=this.stack[this.popIdx];n?(n.node=e,n.body=t):this.stack[this.popIdx]=new Pt(e,t),++this.popIdx},pop:function(){if(this.popIdx>0)return this.stack[--this.popIdx]},reset:function(){this.popIdx=0}};var Dt=function(e,t){var n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y),a=Math.abs(e.z-t.z);return n<1e-8&&r<1e-8&&a<1e-8},Et=function(e){(e=e||{}).gravity="number"==typeof e.gravity?e.gravity:-1,e.theta="number"==typeof e.theta?e.theta:.8;var t=at.random(1984),n=Ct,r=Tt,a=Dt,o=e.gravity,i=[],f=new r,c=e.theta,u=[],s=0,d=function(){var e=u[s];return e?(e.quad0=null,e.quad4=null,e.quad1=null,e.quad5=null,e.quad2=null,e.quad6=null,e.quad3=null,e.quad7=null,e.body=null,e.mass=e.massX=e.massY=e.massZ=0,e.left=e.right=e.top=e.bottom=e.front=e.back=0):(e=new n,u[s]=e),++s,e},l=d(),h=function(e){for(f.reset(),f.push(l,e);!f.isEmpty();){var n=f.pop(),r=n.node,o=n.body;if(r.body){var i=r.body;if(r.body=null,a(i.pos,o.pos)){var c=3;do{var u=t.nextDouble(),s=(r.right-r.left)*u,h=(r.bottom-r.top)*u,b=(r.front-r.back)*u;i.pos.x=r.left+s,i.pos.y=r.top+h,i.pos.z=r.back+b,c-=1}while(c>0&&a(i.pos,o.pos));if(0===c&&a(i.pos,o.pos))return}f.push(r,i),f.push(r,o)}else{var p=o.pos.x,g=o.pos.y,y=o.pos.z;r.mass+=o.mass,r.massX+=o.mass*p,r.massY+=o.mass*g,r.massZ+=o.mass*y;var v=0,m=r.left,x=(r.right+m)/2,w=r.top,_=(r.bottom+w)/2,M=r.back,k=(r.front+M)/2;if(p>x){v+=1;var N=m;m=x,x+=x-N}if(g>_){v+=2;var A=w;w=_,_+=_-A}if(y>k){v+=4;var z=M;k=(M=k)+(M-z)}var C=St(r,v);C?f.push(C,o):((C=d()).left=m,C.top=w,C.right=x,C.bottom=_,C.back=M,C.front=k,C.body=o,Ot(r,v,C))}}};return{insertBodies:function(e){var t,n=Number.MAX_VALUE,r=Number.MAX_VALUE,a=Number.MAX_VALUE,o=Number.MIN_VALUE,i=Number.MIN_VALUE,f=Number.MIN_VALUE,c=e.length;for(t=c;t--;){var u=e[t].pos,b=u.x,p=u.y,g=u.z;b<n&&(n=b),b>o&&(o=b),p<r&&(r=p),p>i&&(i=p),g<a&&(a=g),g>f&&(f=g)}var y=Math.max(o-n,Math.max(i-r,f-a));for(o=n+y,i=r+y,f=a+y,s=0,(l=d()).left=n,l.right=o,l.top=r,l.bottom=i,l.back=a,l.front=f,(t=c-1)>0&&(l.body=e[t]);t--;)h(e[t])},updateBodyForce:function(e){var n,r,a,f,u,s=i,d=0,h=0,b=0,p=1,g=0,y=1;for(s[0]=l;p;){var v=s[g],m=v.body;p-=1,g+=1;var x=m!==e;m&&x?(r=m.pos.x-e.pos.x,a=m.pos.y-e.pos.y,f=m.pos.z-e.pos.z,0===(u=Math.sqrt(r*r+a*a+f*f))&&(r=(t.nextDouble()-.5)/50,a=(t.nextDouble()-.5)/50,f=(t.nextDouble()-.5)/50,u=Math.sqrt(r*r+a*a+f*f)),d+=(n=o*m.mass*e.mass/(u*u*u))*r,h+=n*a,b+=n*f):x&&(r=v.massX/v.mass-e.pos.x,a=v.massY/v.mass-e.pos.y,f=v.massZ/v.mass-e.pos.z,0===(u=Math.sqrt(r*r+a*a+f*f))&&(r=(t.nextDouble()-.5)/50,a=(t.nextDouble()-.5)/50,f=(t.nextDouble()-.5)/50,u=Math.sqrt(r*r+a*a+f*f)),(v.right-v.left)/u<c?(d+=(n=o*v.mass*e.mass/(u*u*u))*r,h+=n*a,b+=n*f):(v.quad0&&(s[y]=v.quad0,p+=1,y+=1),v.quad1&&(s[y]=v.quad1,p+=1,y+=1),v.quad2&&(s[y]=v.quad2,p+=1,y+=1),v.quad3&&(s[y]=v.quad3,p+=1,y+=1),v.quad4&&(s[y]=v.quad4,p+=1,y+=1),v.quad5&&(s[y]=v.quad5,p+=1,y+=1),v.quad6&&(s[y]=v.quad6,p+=1,y+=1),v.quad7&&(s[y]=v.quad7,p+=1,y+=1)))}e.force.x+=d,e.force.y+=h,e.force.z+=b},options:function(e){return e?("number"==typeof e.gravity&&(o=e.gravity),"number"==typeof e.theta&&(c=e.theta),this):{gravity:o,theta:c}}}};function St(e,t){return 0===t?e.quad0:1===t?e.quad1:2===t?e.quad2:3===t?e.quad3:4===t?e.quad4:5===t?e.quad5:6===t?e.quad6:7===t?e.quad7:null}function Ot(e,t,n){0===t?e.quad0=n:1===t?e.quad1=n:2===t?e.quad2=n:3===t?e.quad3=n:4===t?e.quad4=n:5===t?e.quad5=n:6===t?e.quad6=n:7===t&&(e.quad7=n)}var Lt=function(e,t){var n=at.random(42),r={x1:0,y1:0,z1:0,x2:0,y2:0,z2:0};return{box:r,update:function(){var t=e.length;if(0===t)return;var n=Number.MAX_VALUE,a=Number.MAX_VALUE,o=Number.MAX_VALUE,i=Number.MIN_VALUE,f=Number.MIN_VALUE,c=Number.MIN_VALUE;for(;t--;){var u=e[t];u.isPinned?(u.pos.x=u.prevPos.x,u.pos.y=u.prevPos.y,u.pos.z=u.prevPos.z):(u.prevPos.x=u.pos.x,u.prevPos.y=u.pos.y,u.prevPos.z=u.pos.z),u.pos.x<n&&(n=u.pos.x),u.pos.x>i&&(i=u.pos.x),u.pos.y<a&&(a=u.pos.y),u.pos.y>f&&(f=u.pos.y),u.pos.z<o&&(o=u.pos.z),u.pos.z>c&&(c=u.pos.z)}r.x1=n,r.x2=i,r.y1=a,r.y2=f,r.z1=o,r.z2=c},reset:function(){r.x1=r.y1=0,r.x2=r.y2=0,r.z1=r.z2=0},getBestNewPosition:function(e){var a=r,o=0,i=0,f=0;if(e.length){for(var c=0;c<e.length;++c)o+=e[c].pos.x,i+=e[c].pos.y,f+=e[c].pos.z;o/=e.length,i/=e.length,f/=e.length}else o=(a.x1+a.x2)/2,i=(a.y1+a.y2)/2,f=(a.z1+a.z2)/2;var u=t.springLength;return{x:o+n.next(u)-u/2,y:i+n.next(u)-u/2,z:f+n.next(u)-u/2}}}},Ut=function(e){var t={update:function(t){t.force.x-=e.dragCoeff*t.velocity.x,t.force.y-=e.dragCoeff*t.velocity.y,t.force.z-=e.dragCoeff*t.velocity.z}};return tt(e=rt(e,{dragCoeff:.02}),t,["dragCoeff"]),t},Rt=function(e){var t=rt,n=at.random(42),r={update:function(t){var r=t.from,a=t.to,o=t.length<0?e.springLength:t.length,i=a.pos.x-r.pos.x,f=a.pos.y-r.pos.y,c=a.pos.z-r.pos.z,u=Math.sqrt(i*i+f*f+c*c);0===u&&(i=(n.nextDouble()-.5)/50,f=(n.nextDouble()-.5)/50,c=(n.nextDouble()-.5)/50,u=Math.sqrt(i*i+f*f+c*c));var s=u-o,d=(!t.coeff||t.coeff<0?e.springCoeff:t.coeff)*s/u*t.weight;r.force.x+=d*i,r.force.y+=d*f,r.force.z+=d*c,a.force.x-=d*i,a.force.y-=d*f,a.force.z-=d*c}};return tt(e=t(e,{springCoeff:2e-4,springLength:80}),r,["springCoeff","springLength"]),r},It=function(e){return new vt.Body3d(e)},jt=function(e,t){var n,r=0,a=0,o=0,i=e.length;for(n=0;n<i;++n){var f=e[n],c=t*t/f.mass;f.pos.x=2*f.pos.x-f.prevPos.x+f.force.x*c,f.pos.y=2*f.pos.y-f.prevPos.y+f.force.y*c,f.pos.z=2*f.pos.z-f.prevPos.z+f.force.z*c,r+=Math.abs(f.pos.x-f.prevPos.x),a+=Math.abs(f.pos.y-f.prevPos.y),o+=Math.abs(f.pos.z-f.prevPos.z)}return(r*r+a*a+o*o)/e.length};var Bt=function(e,t){var n,r=0,a=0,o=0,i=0,f=0,c=0,u=e.length;for(n=0;n<u;++n){var s=e[n],d=t/s.mass;s.velocity.x+=d*s.force.x,s.velocity.y+=d*s.force.y,s.velocity.z+=d*s.force.z;var l=s.velocity.x,h=s.velocity.y,b=s.velocity.z,p=Math.sqrt(l*l+h*h+b*b);p>1&&(s.velocity.x=l/p,s.velocity.y=h/p,s.velocity.z=b/p),r=t*s.velocity.x,o=t*s.velocity.y,f=t*s.velocity.z,s.pos.x+=r,s.pos.y+=o,s.pos.z+=f,a+=Math.abs(r),i+=Math.abs(o),c+=Math.abs(f)}return(a*a+i*i+c*c)/e.length};var Ft=Vt;function Vt(e,t){return t=rt(t,{createQuadTree:Et,createBounds:Lt,createDragForce:Ut,createSpringForce:Rt,integrator:Ht(t),createBody:It}),Vt.get2dLayout(e,t)}function Ht(e){return e&&"verlet"===e.integrator?jt:Bt}function Yt(e,t,n){var r,a,o,i,f;function c(){var u=Date.now()-i;u<t&&u>=0?r=setTimeout(c,t-u):(r=null,n||(f=e.apply(o,a),o=a=null))}null==t&&(t=100);var u=function(){o=this,a=arguments,i=Date.now();var u=n&&!r;return r||(r=setTimeout(c,t)),u&&(f=e.apply(o,a),o=a=null),f};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(f=e.apply(o,a),o=a=null,clearTimeout(r),r=null)},u}Vt.get2dLayout=Nt,Yt.debounce=Yt;var Xt=Yt;function Gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,f=e[Symbol.iterator]();!(r=(i=f.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==f.return||f.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var $t=function e(t,n){var r=n.default,a=void 0===r?null:r,o=n.triggerUpdate,i=void 0===o||o,f=n.onChange,c=void 0===f?function(e,t){}:f;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.defaultVal=a,this.triggerUpdate=i,this.onChange=c};var Zt=Ce(function(e,t){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){var r,a,o;a=[e,t],void 0!==(o="function"==typeof(r=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof Function?e:"string"==typeof e?function(t){return t[e]}:function(t){return e}},e.exports=t.default})?r.apply(t,a):r)&&(e.exports=o)}])}),Wt=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(Zt);Zt.accessorFn;function Qt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var Jt,Kt;1===(Jt=Qt).length&&(Kt=Jt,Jt=function(e,t){return Qt(Kt(e),t)});const en=Symbol("implicit");function tn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function nn(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function rn(){}var an="\\s*([+-]?\\d+)\\s*",on="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",fn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cn=/^#([0-9a-f]{3})$/,un=/^#([0-9a-f]{6})$/,sn=new RegExp("^rgb\\("+[an,an,an]+"\\)$"),dn=new RegExp("^rgb\\("+[fn,fn,fn]+"\\)$"),ln=new RegExp("^rgba\\("+[an,an,an,on]+"\\)$"),hn=new RegExp("^rgba\\("+[fn,fn,fn,on]+"\\)$"),bn=new RegExp("^hsl\\("+[on,fn,fn]+"\\)$"),pn=new RegExp("^hsla\\("+[on,fn,fn,on]+"\\)$"),gn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function yn(e){var t;return e=(e+"").trim().toLowerCase(),(t=cn.exec(e))?new _n((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=un.exec(e))?vn(parseInt(t[1],16)):(t=sn.exec(e))?new _n(t[1],t[2],t[3],1):(t=dn.exec(e))?new _n(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=ln.exec(e))?mn(t[1],t[2],t[3],t[4]):(t=hn.exec(e))?mn(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=bn.exec(e))?kn(t[1],t[2]/100,t[3]/100,1):(t=pn.exec(e))?kn(t[1],t[2]/100,t[3]/100,t[4]):gn.hasOwnProperty(e)?vn(gn[e]):"transparent"===e?new _n(NaN,NaN,NaN,0):null}function vn(e){return new _n(e>>16&255,e>>8&255,255&e,1)}function mn(e,t,n,r){return r<=0&&(e=t=n=NaN),new _n(e,t,n,r)}function xn(e){return e instanceof rn||(e=yn(e)),e?new _n((e=e.rgb()).r,e.g,e.b,e.opacity):new _n}function wn(e,t,n,r){return 1===arguments.length?xn(e):new _n(e,t,n,null==r?1:r)}function _n(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Mn(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function kn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Nn(e,t,n,r)}function Nn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function An(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}tn(rn,yn,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),tn(_n,wn,nn(rn,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new _n(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new _n(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+Mn(this.r)+Mn(this.g)+Mn(this.b)},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),tn(Nn,function(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof Nn)return new Nn(e.h,e.s,e.l,e.opacity);if(e instanceof rn||(e=yn(e)),!e)return new Nn;if(e instanceof Nn)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),i=NaN,f=o-a,c=(o+a)/2;return f?(i=t===o?(n-r)/f+6*(n<r):n===o?(r-t)/f+2:(t-n)/f+4,f/=c<.5?o+a:2-o-a,i*=60):f=c>0&&c<1?0:i,new Nn(i,f,c,e.opacity)}(e):new Nn(e,t,n,null==r?1:r)},nn(rn,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Nn(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Nn(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new _n(An(e>=240?e-240:e+120,a,r),An(e,a,r),An(e<120?e+240:e-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var zn=Math.PI/180,Cn=180/Math.PI,Tn=.96422,qn=1,Pn=.82521,Dn=4/29,En=6/29,Sn=3*En*En,On=En*En*En;function Ln(e){if(e instanceof Un)return new Un(e.l,e.a,e.b,e.opacity);if(e instanceof Fn){if(isNaN(e.h))return new Un(e.l,0,0,e.opacity);var t=e.h*zn;return new Un(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof _n||(e=xn(e));var n,r,a=Bn(e.r),o=Bn(e.g),i=Bn(e.b),f=Rn((.2225045*a+.7168786*o+.0606169*i)/qn);return a===o&&o===i?n=r=f:(n=Rn((.4360747*a+.3850649*o+.1430804*i)/Tn),r=Rn((.0139322*a+.0971045*o+.7141733*i)/Pn)),new Un(116*f-16,500*(n-f),200*(f-r),e.opacity)}function Un(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function Rn(e){return e>On?Math.pow(e,1/3):e/Sn+Dn}function In(e){return e>En?e*e*e:Sn*(e-Dn)}function jn(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Bn(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Fn(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}tn(Un,function(e,t,n,r){return 1===arguments.length?Ln(e):new Un(e,t,n,null==r?1:r)},nn(rn,{brighter:function(e){return new Un(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new Un(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new _n(jn(3.1338561*(t=Tn*In(t))-1.6168667*(e=qn*In(e))-.4906146*(n=Pn*In(n))),jn(-.9787684*t+1.9161415*e+.033454*n),jn(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),tn(Fn,function(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof Fn)return new Fn(e.h,e.c,e.l,e.opacity);if(e instanceof Un||(e=Ln(e)),0===e.a&&0===e.b)return new Fn(NaN,0,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Cn;return new Fn(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}(e):new Fn(e,t,n,null==r?1:r)},nn(rn,{brighter:function(e){return new Fn(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new Fn(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return Ln(this).rgb()}}));var Vn=-.14861,Hn=1.78277,Yn=-.29227,Xn=-.90649,Gn=1.97294,$n=Gn*Xn,Zn=Gn*Hn,Wn=Hn*Yn-Xn*Vn;function Qn(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof Jn)return new Jn(e.h,e.s,e.l,e.opacity);e instanceof _n||(e=xn(e));var t=e.r/255,n=e.g/255,r=e.b/255,a=(Wn*r+$n*t-Zn*n)/(Wn+$n-Zn),o=r-a,i=(Gn*(n-a)-Yn*o)/Xn,f=Math.sqrt(i*i+o*o)/(Gn*a*(1-a)),c=f?Math.atan2(i,o)*Cn-120:NaN;return new Jn(c<0?c+360:c,f,a,e.opacity)}(e):new Jn(e,t,n,null==r?1:r)}function Jn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Kn(e){return function(){return e}}function er(e,t){return function(n){return e+n*t}}function tr(e,t){var n=t-e;return n?er(e,n):Kn(isNaN(e)?t:e)}tn(Jn,Qn,nn(rn,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Jn(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Jn(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*zn,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),a=Math.sin(e);return new _n(255*(t+n*(Vn*r+Hn*a)),255*(t+n*(Yn*r+Xn*a)),255*(t+n*(Gn*r)),this.opacity)}}));var nr,rr=(nr=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],o=e[r+1],i=r>0?e[r-1]:2*a-o,f=r<t-1?e[r+2]:2*o-a;return function(e,t,n,r,a){var o=e*e,i=o*e;return((1-3*e+3*o-i)*t+(4-6*o+3*i)*n+(1+3*e+3*o-3*i)*r+i*a)/6}((n-r/t)*t,i,a,o,f)}},function(e){var t,n,r=e.length,a=new Array(r),o=new Array(r),i=new Array(r);for(t=0;t<r;++t)n=wn(e[t]),a[t]=n.r||0,o[t]=n.g||0,i[t]=n.b||0;return a=nr(a),o=nr(o),i=nr(i),n.opacity=1,function(e){return n.r=a(e),n.g=o(e),n.b=i(e),n+""}});Math.PI,Math.SQRT2;function ar(e){return function t(n){function r(t,r){var a=e((t=Qn(t)).h,(r=Qn(r)).h),o=tr(t.s,r.s),i=tr(t.l,r.l),f=tr(t.opacity,r.opacity);return function(e){return t.h=a(e),t.s=o(e),t.l=i(Math.pow(e,n)),t.opacity=f(e),t+""}}return n=+n,r.gamma=t,r}(1)}ar(function(e,t){var n=t-e;return n?er(e,n>180||n<-180?n-360*Math.round(n/360):n):Kn(isNaN(e)?t:e)});var or=ar(tr);function ir(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}var fr,cr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ur(e){return new sr(e)}function sr(e){if(!(t=cr.exec(e)))throw new Error("invalid format: "+e);var t;this.fill=t[1]||" ",this.align=t[2]||">",this.sign=t[3]||"-",this.symbol=t[4]||"",this.zero=!!t[5],this.width=t[6]&&+t[6],this.comma=!!t[7],this.precision=t[8]&&+t[8].slice(1),this.trim=!!t[9],this.type=t[10]||""}function dr(e,t){var n=ir(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}ur.prototype=sr.prototype,sr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var lr={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return dr(100*e,t)},r:dr,s:function(e,t){var n=ir(e,t);if(!n)return e+"";var r=n[0],a=n[1],o=a-(fr=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,i=r.length;return o===i?r:o>i?r+new Array(o-i+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ir(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function hr(e){return e}var br,pr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function gr(e){var t,n,r=e.grouping&&e.thousands?(t=e.grouping,n=e.thousands,function(e,r){for(var a=e.length,o=[],i=0,f=t[0],c=0;a>0&&f>0&&(c+f+1>r&&(f=Math.max(1,r-c)),o.push(e.substring(a-=f,a+f)),!((c+=f+1)>r));)f=t[i=(i+1)%t.length];return o.reverse().join(n)}):hr,a=e.currency,o=e.decimal,i=e.numerals?function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(e.numerals):hr,f=e.percent||"%";function c(e){var t=(e=ur(e)).fill,n=e.align,c=e.sign,u=e.symbol,s=e.zero,d=e.width,l=e.comma,h=e.precision,b=e.trim,p=e.type;"n"===p?(l=!0,p="g"):lr[p]||(null==h&&(h=12),b=!0,p="g"),(s||"0"===t&&"="===n)&&(s=!0,t="0",n="=");var g="$"===u?a[0]:"#"===u&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",y="$"===u?a[1]:/[%p]/.test(p)?f:"",v=lr[p],m=/[defgprs%]/.test(p);function x(e){var a,f,u,x=g,w=y;if("c"===p)w=v(e)+w,e="";else{var _=(e=+e)<0;if(e=v(Math.abs(e),h),b&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(a>0){if(!+e[r])break e;a=0}}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),_&&0==+e&&(_=!1),x=(_?"("===c?c:"-":"-"===c||"("===c?"":c)+x,w=("s"===p?pr[8+fr/3]:"")+w+(_&&"("===c?")":""),m)for(a=-1,f=e.length;++a<f;)if(48>(u=e.charCodeAt(a))||u>57){w=(46===u?o+e.slice(a+1):e.slice(a))+w,e=e.slice(0,a);break}}l&&!s&&(e=r(e,1/0));var M=x.length+e.length+w.length,k=M<d?new Array(d-M+1).join(t):"";switch(l&&s&&(e=r(k+e,k.length?d-w.length:1/0),k=""),n){case"<":e=x+e+w+k;break;case"=":e=x+k+e+w;break;case"^":e=k.slice(0,M=k.length>>1)+x+e+w+k.slice(M);break;default:e=k+x+e+w}return i(e)}return h=null==h?6:/[gprs]/.test(p)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h)),x.toString=function(){return e+""},x}return{format:c,formatPrefix:function(e,t){var n=c(((e=ur(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(function(e){return(e=ir(Math.abs(e)))?e[1]:NaN}(t)/3))),a=Math.pow(10,-r),o=pr[8+r/3];return function(e){return n(a*e)+o}}}}br=gr({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),br.format,br.formatPrefix;var yr=new Date,vr=new Date;function mr(e,t,n,r){function a(t){return e(t=new Date(+t)),t}return a.floor=a,a.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},a.round=function(e){var t=a(e),n=a.ceil(e);return e-t<n-e?t:n},a.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},a.range=function(n,r,o){var i,f=[];if(n=a.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return f;do{f.push(i=new Date(+n)),t(n,o),e(n)}while(i<n&&n<r);return f},a.filter=function(n){return mr(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})},n&&(a.count=function(t,r){return yr.setTime(+t),vr.setTime(+r),e(yr),e(vr),Math.floor(n(yr,vr))},a.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(r?function(t){return r(t)%e==0}:function(t){return a.count(0,t)%e==0}):a:null}),a}var xr=mr(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});xr.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?mr(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):xr:null};var wr=6e4,_r=6048e5,Mr=(mr(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()}),mr(function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())},function(e,t){e.setTime(+e+t*wr)},function(e,t){return(t-e)/wr},function(e){return e.getMinutes()}),mr(function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-e.getMinutes()*wr)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()}),mr(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*wr)/864e5},function(e){return e.getDate()-1}));function kr(e){return mr(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*wr)/_r})}var Nr=kr(0),Ar=kr(1),zr=(kr(2),kr(3),kr(4)),Cr=(kr(5),kr(6),mr(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()}),mr(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()}));Cr.every=function(e){return isFinite(e=Math.floor(e))&&e>0?mr(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};mr(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*wr)},function(e,t){return(t-e)/wr},function(e){return e.getUTCMinutes()}),mr(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()});var Tr=mr(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1});function qr(e){return mr(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/_r})}var Pr=qr(0),Dr=qr(1),Er=(qr(2),qr(3),qr(4)),Sr=(qr(5),qr(6),mr(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()}),mr(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()}));function Or(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Lr(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ur(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}Sr.every=function(e){return isFinite(e=Math.floor(e))&&e>0?mr(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};var Rr,Ir,jr,Br={"-":"",_:" ",0:"0"},Fr=/^\s*\d+/,Vr=/^%/,Hr=/[\\^$*+?|[\]().{}]/g;function Yr(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",o=a.length;return r+(o<n?new Array(n-o+1).join(t)+a:a)}function Xr(e){return e.replace(Hr,"\\$&")}function Gr(e){return new RegExp("^(?:"+e.map(Xr).join("|")+")","i")}function $r(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function Zr(e,t,n){var r=Fr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Wr(e,t,n){var r=Fr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Qr(e,t,n){var r=Fr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Jr(e,t,n){var r=Fr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Kr(e,t,n){var r=Fr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function ea(e,t,n){var r=Fr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function ta(e,t,n){var r=Fr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function na(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ra(e,t,n){var r=Fr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function aa(e,t,n){var r=Fr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function oa(e,t,n){var r=Fr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function ia(e,t,n){var r=Fr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function fa(e,t,n){var r=Fr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ca(e,t,n){var r=Fr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ua(e,t,n){var r=Fr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function sa(e,t,n){var r=Fr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function da(e,t,n){var r=Vr.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function la(e,t,n){var r=Fr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function ha(e,t,n){var r=Fr.exec(t.slice(n));return r?(e.Q=1e3*+r[0],n+r[0].length):-1}function ba(e,t){return Yr(e.getDate(),t,2)}function pa(e,t){return Yr(e.getHours(),t,2)}function ga(e,t){return Yr(e.getHours()%12||12,t,2)}function ya(e,t){return Yr(1+Mr.count(Cr(e),e),t,3)}function va(e,t){return Yr(e.getMilliseconds(),t,3)}function ma(e,t){return va(e,t)+"000"}function xa(e,t){return Yr(e.getMonth()+1,t,2)}function wa(e,t){return Yr(e.getMinutes(),t,2)}function _a(e,t){return Yr(e.getSeconds(),t,2)}function Ma(e){var t=e.getDay();return 0===t?7:t}function ka(e,t){return Yr(Nr.count(Cr(e),e),t,2)}function Na(e,t){var n=e.getDay();return e=n>=4||0===n?zr(e):zr.ceil(e),Yr(zr.count(Cr(e),e)+(4===Cr(e).getDay()),t,2)}function Aa(e){return e.getDay()}function za(e,t){return Yr(Ar.count(Cr(e),e),t,2)}function Ca(e,t){return Yr(e.getFullYear()%100,t,2)}function Ta(e,t){return Yr(e.getFullYear()%1e4,t,4)}function qa(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Yr(t/60|0,"0",2)+Yr(t%60,"0",2)}function Pa(e,t){return Yr(e.getUTCDate(),t,2)}function Da(e,t){return Yr(e.getUTCHours(),t,2)}function Ea(e,t){return Yr(e.getUTCHours()%12||12,t,2)}function Sa(e,t){return Yr(1+Tr.count(Sr(e),e),t,3)}function Oa(e,t){return Yr(e.getUTCMilliseconds(),t,3)}function La(e,t){return Oa(e,t)+"000"}function Ua(e,t){return Yr(e.getUTCMonth()+1,t,2)}function Ra(e,t){return Yr(e.getUTCMinutes(),t,2)}function Ia(e,t){return Yr(e.getUTCSeconds(),t,2)}function ja(e){var t=e.getUTCDay();return 0===t?7:t}function Ba(e,t){return Yr(Pr.count(Sr(e),e),t,2)}function Fa(e,t){var n=e.getUTCDay();return e=n>=4||0===n?Er(e):Er.ceil(e),Yr(Er.count(Sr(e),e)+(4===Sr(e).getUTCDay()),t,2)}function Va(e){return e.getUTCDay()}function Ha(e,t){return Yr(Dr.count(Sr(e),e),t,2)}function Ya(e,t){return Yr(e.getUTCFullYear()%100,t,2)}function Xa(e,t){return Yr(e.getUTCFullYear()%1e4,t,4)}function Ga(){return"+0000"}function $a(){return"%"}function Za(e){return+e}function Wa(e){return Math.floor(+e/1e3)}!function(e){Rr=function(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,o=e.days,i=e.shortDays,f=e.months,c=e.shortMonths,u=Gr(a),s=$r(a),d=Gr(o),l=$r(o),h=Gr(i),b=$r(i),p=Gr(f),g=$r(f),y=Gr(c),v=$r(c),m={a:function(e){return i[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return c[e.getMonth()]},B:function(e){return f[e.getMonth()]},c:null,d:ba,e:ba,f:ma,H:pa,I:ga,j:ya,L:va,m:xa,M:wa,p:function(e){return a[+(e.getHours()>=12)]},Q:Za,s:Wa,S:_a,u:Ma,U:ka,V:Na,w:Aa,W:za,x:null,X:null,y:Ca,Y:Ta,Z:qa,"%":$a},x={a:function(e){return i[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return c[e.getUTCMonth()]},B:function(e){return f[e.getUTCMonth()]},c:null,d:Pa,e:Pa,f:La,H:Da,I:Ea,j:Sa,L:Oa,m:Ua,M:Ra,p:function(e){return a[+(e.getUTCHours()>=12)]},Q:Za,s:Wa,S:Ia,u:ja,U:Ba,V:Fa,w:Va,W:Ha,x:null,X:null,y:Ya,Y:Xa,Z:Ga,"%":$a},w={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=b[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=l[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,n,r){return k(e,t,n,r)},d:aa,e:aa,f:sa,H:ia,I:ia,j:oa,L:ua,m:ra,M:fa,p:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.p=s[r[0].toLowerCase()],n+r[0].length):-1},Q:la,s:ha,S:ca,u:Wr,U:Qr,V:Jr,w:Zr,W:Kr,x:function(e,t,r){return k(e,n,t,r)},X:function(e,t,n){return k(e,r,t,n)},y:ta,Y:ea,Z:na,"%":da};function _(e,t){return function(n){var r,a,o,i=[],f=-1,c=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++f<u;)37===e.charCodeAt(f)&&(i.push(e.slice(c,f)),null!=(a=Br[r=e.charAt(++f)])?r=e.charAt(++f):a="e"===r?" ":"0",(o=t[r])&&(r=o(n,a)),i.push(r),c=f+1);return i.push(e.slice(c,f)),i.join("")}}function M(e,t){return function(n){var r,a,o=Ur(1900);if(k(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(a=(r=Lr(Ur(o.y))).getUTCDay(),r=a>4||0===a?Dr.ceil(r):Dr(r),r=Tr.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(a=(r=t(Ur(o.y))).getDay(),r=a>4||0===a?Ar.ceil(r):Ar(r),r=Mr.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),a="Z"in o?Lr(Ur(o.y)).getUTCDay():t(Ur(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(a+5)%7:o.w+7*o.U-(a+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Lr(o)):t(o)}}function k(e,t,n,r){for(var a,o,i=0,f=t.length,c=n.length;i<f;){if(r>=c)return-1;if(37===(a=t.charCodeAt(i++))){if(a=t.charAt(i++),!(o=w[a in Br?t.charAt(i++):a])||(r=o(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return m.x=_(n,m),m.X=_(r,m),m.c=_(t,m),x.x=_(n,x),x.X=_(r,x),x.c=_(t,x),{format:function(e){var t=_(e+="",m);return t.toString=function(){return e},t},parse:function(e){var t=M(e+="",Or);return t.toString=function(){return e},t},utcFormat:function(e){var t=_(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=M(e,Lr);return t.toString=function(){return e},t}}}(e),Rr.format,Rr.parse,Ir=Rr.utcFormat,jr=Rr.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||Ir("%Y-%m-%dT%H:%M:%S.%LZ");+new Date("2000-01-01T00:00:00.000Z")||jr("%Y-%m-%dT%H:%M:%S.%LZ");function Qa(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}Qa("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Qa("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Qa("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666");var Ja=Qa("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function Ka(e){return rr(e[e.length-1])}Qa("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Qa("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Qa("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Qa("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Qa("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Ka(new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Qa)),Ka(new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Qa)),Ka(new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Qa)),Ka(new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Qa)),Ka(new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Qa)),Ka(new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Qa)),Ka(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Qa)),Ka(new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Qa)),Ka(new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Qa)),Ka(new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Qa)),Ka(new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Qa)),Ka(new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Qa)),Ka(new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Qa)),Ka(new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Qa)),Ka(new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Qa)),Ka(new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Qa)),Ka(new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Qa)),Ka(new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Qa)),Ka(new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Qa)),Ka(new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Qa)),Ka(new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Qa)),Ka(new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Qa)),Ka(new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Qa)),Ka(new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Qa)),Ka(new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Qa)),Ka(new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Qa)),Ka(new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Qa)),or(Qn(300,.5,0),Qn(-240,.5,1));or(Qn(-100,.75,.35),Qn(80,1.5,.8)),or(Qn(260,.75,.35),Qn(80,1.5,.8)),Qn(),wn(),Math.PI,Math.PI;function eo(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}eo(Qa("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));eo(Qa("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),eo(Qa("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),eo(Qa("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));var to=Ce(function(e){!function(t){var n=/^\s+/,r=/\s+$/,a=0,o=t.round,i=t.min,f=t.max,c=t.random;function u(e,c){if(c=c||{},(e=e||"")instanceof u)return e;if(!(this instanceof u))return new u(e,c);var s=function(e){var a={r:0,g:0,b:0},o=1,c=null,u=null,s=null,d=!1,l=!1;"string"==typeof e&&(e=function(e){e=e.replace(n,"").replace(r,"").toLowerCase();var t,a=!1;if(z[e])e=z[e],a=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=j.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=j.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=j.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=j.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=j.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=j.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=j.hex8.exec(e))return{r:D(t[1]),g:D(t[2]),b:D(t[3]),a:L(t[4]),format:a?"name":"hex8"};if(t=j.hex6.exec(e))return{r:D(t[1]),g:D(t[2]),b:D(t[3]),format:a?"name":"hex"};if(t=j.hex4.exec(e))return{r:D(t[1]+""+t[1]),g:D(t[2]+""+t[2]),b:D(t[3]+""+t[3]),a:L(t[4]+""+t[4]),format:a?"name":"hex8"};if(t=j.hex3.exec(e))return{r:D(t[1]+""+t[1]),g:D(t[2]+""+t[2]),b:D(t[3]+""+t[3]),format:a?"name":"hex"};return!1}(e));"object"==typeof e&&(B(e.r)&&B(e.g)&&B(e.b)?(h=e.r,b=e.g,p=e.b,a={r:255*q(h,255),g:255*q(b,255),b:255*q(p,255)},d=!0,l="%"===String(e.r).substr(-1)?"prgb":"rgb"):B(e.h)&&B(e.s)&&B(e.v)?(c=S(e.s),u=S(e.v),a=function(e,n,r){e=6*q(e,360),n=q(n,100),r=q(r,100);var a=t.floor(e),o=e-a,i=r*(1-n),f=r*(1-o*n),c=r*(1-(1-o)*n),u=a%6;return{r:255*[r,f,i,i,c,r][u],g:255*[c,r,r,f,i,i][u],b:255*[i,i,c,r,r,f][u]}}(e.h,c,u),d=!0,l="hsv"):B(e.h)&&B(e.s)&&B(e.l)&&(c=S(e.s),s=S(e.l),a=function(e,t,n){var r,a,o;function i(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=q(e,360),t=q(t,100),n=q(n,100),0===t)r=a=o=n;else{var f=n<.5?n*(1+t):n+t-n*t,c=2*n-f;r=i(c,f,e+1/3),a=i(c,f,e),o=i(c,f,e-1/3)}return{r:255*r,g:255*a,b:255*o}}(e.h,c,s),d=!0,l="hsl"),e.hasOwnProperty("a")&&(o=e.a));var h,b,p;return o=T(o),{ok:d,format:e.format||l,r:i(255,f(a.r,0)),g:i(255,f(a.g,0)),b:i(255,f(a.b,0)),a:o}}(e);this._originalInput=e,this._r=s.r,this._g=s.g,this._b=s.b,this._a=s.a,this._roundA=o(100*this._a)/100,this._format=c.format||s.format,this._gradientType=c.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=s.ok,this._tc_id=a++}function s(e,t,n){e=q(e,255),t=q(t,255),n=q(n,255);var r,a,o=f(e,t,n),c=i(e,t,n),u=(o+c)/2;if(o==c)r=a=0;else{var s=o-c;switch(a=u>.5?s/(2-o-c):s/(o+c),o){case e:r=(t-n)/s+(t<n?6:0);break;case t:r=(n-e)/s+2;break;case n:r=(e-t)/s+4}r/=6}return{h:r,s:a,l:u}}function d(e,t,n){e=q(e,255),t=q(t,255),n=q(n,255);var r,a,o=f(e,t,n),c=i(e,t,n),u=o,s=o-c;if(a=0===o?0:s/o,o==c)r=0;else{switch(o){case e:r=(t-n)/s+(t<n?6:0);break;case t:r=(n-e)/s+2;break;case n:r=(e-t)/s+4}r/=6}return{h:r,s:a,v:u}}function l(e,t,n,r){var a=[E(o(e).toString(16)),E(o(t).toString(16)),E(o(n).toString(16))];return r&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function h(e,t,n,r){return[E(O(r)),E(o(e).toString(16)),E(o(t).toString(16)),E(o(n).toString(16))].join("")}function b(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.s-=t/100,n.s=P(n.s),u(n)}function p(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.s+=t/100,n.s=P(n.s),u(n)}function g(e){return u(e).desaturate(100)}function y(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.l+=t/100,n.l=P(n.l),u(n)}function v(e,t){t=0===t?0:t||10;var n=u(e).toRgb();return n.r=f(0,i(255,n.r-o(-t/100*255))),n.g=f(0,i(255,n.g-o(-t/100*255))),n.b=f(0,i(255,n.b-o(-t/100*255))),u(n)}function m(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.l-=t/100,n.l=P(n.l),u(n)}function x(e,t){var n=u(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,u(n)}function w(e){var t=u(e).toHsl();return t.h=(t.h+180)%360,u(t)}function _(e){var t=u(e).toHsl(),n=t.h;return[u(e),u({h:(n+120)%360,s:t.s,l:t.l}),u({h:(n+240)%360,s:t.s,l:t.l})]}function M(e){var t=u(e).toHsl(),n=t.h;return[u(e),u({h:(n+90)%360,s:t.s,l:t.l}),u({h:(n+180)%360,s:t.s,l:t.l}),u({h:(n+270)%360,s:t.s,l:t.l})]}function k(e){var t=u(e).toHsl(),n=t.h;return[u(e),u({h:(n+72)%360,s:t.s,l:t.l}),u({h:(n+216)%360,s:t.s,l:t.l})]}function N(e,t,n){t=t||6,n=n||30;var r=u(e).toHsl(),a=360/n,o=[u(e)];for(r.h=(r.h-(a*t>>1)+720)%360;--t;)r.h=(r.h+a)%360,o.push(u(r));return o}function A(e,t){t=t||6;for(var n=u(e).toHsv(),r=n.h,a=n.s,o=n.v,i=[],f=1/t;t--;)i.push(u({h:r,s:a,v:o})),o=(o+f)%1;return i}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,n,r,a=this.toRgb();return e=a.r/255,n=a.g/255,r=a.b/255,.2126*(e<=.03928?e/12.92:t.pow((e+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:t.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:t.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=T(e),this._roundA=o(100*this._a)/100,this},toHsv:function(){var e=d(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=d(this._r,this._g,this._b),t=o(360*e.h),n=o(100*e.s),r=o(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=s(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=s(this._r,this._g,this._b),t=o(360*e.h),n=o(100*e.s),r=o(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return l(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,a){var i=[E(o(e).toString(16)),E(o(t).toString(16)),E(o(n).toString(16)),E(O(r))];if(a&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1))return i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0);return i.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(100*q(this._r,255))+"%",g:o(100*q(this._g,255))+"%",b:o(100*q(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+o(100*q(this._r,255))+"%, "+o(100*q(this._g,255))+"%, "+o(100*q(this._b,255))+"%)":"rgba("+o(100*q(this._r,255))+"%, "+o(100*q(this._g,255))+"%, "+o(100*q(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(C[l(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+h(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var a=u(e);n="#"+h(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return u(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(y,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(m,arguments)},desaturate:function(){return this._applyModification(b,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(N,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(A,arguments)},splitcomplement:function(){return this._applyCombination(k,arguments)},triad:function(){return this._applyCombination(_,arguments)},tetrad:function(){return this._applyCombination(M,arguments)}},u.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:S(e[r]));e=n}return u(e,t)},u.equals=function(e,t){return!(!e||!t)&&u(e).toRgbString()==u(t).toRgbString()},u.random=function(){return u.fromRatio({r:c(),g:c(),b:c()})},u.mix=function(e,t,n){n=0===n?0:n||50;var r=u(e).toRgb(),a=u(t).toRgb(),o=n/100;return u({r:(a.r-r.r)*o+r.r,g:(a.g-r.g)*o+r.g,b:(a.b-r.b)*o+r.b,a:(a.a-r.a)*o+r.a})},
// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)
// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)
u.readability=function(e,n){var r=u(e),a=u(n);return(t.max(r.getLuminance(),a.getLuminance())+.05)/(t.min(r.getLuminance(),a.getLuminance())+.05)},u.isReadable=function(e,t,n){var r,a,o=u.readability(e,t);switch(a=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":a=o>=4.5;break;case"AAlarge":a=o>=3;break;case"AAAsmall":a=o>=7}return a},u.mostReadable=function(e,t,n){var r,a,o,i,f=null,c=0;a=(n=n||{}).includeFallbackColors,o=n.level,i=n.size;for(var s=0;s<t.length;s++)(r=u.readability(e,t[s]))>c&&(c=r,f=u(t[s]));return u.isReadable(e,f,{level:o,size:i})||!a?f:(n.includeFallbackColors=!1,u.mostReadable(e,["#fff","#000"],n))};var z=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},C=u.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(z);function T(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function q(e,n){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var r=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=i(n,f(0,parseFloat(e))),r&&(e=parseInt(e*n,10)/100),t.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function P(e){return i(1,f(0,e))}function D(e){return parseInt(e,16)}function E(e){return 1==e.length?"0"+e:""+e}function S(e){return e<=1&&(e=100*e+"%"),e}function O(e){return t.round(255*parseFloat(e)).toString(16)}function L(e){return D(e)/255}var U,R,I,j=(R="[\\s|\\(]+("+(U="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+U+")[,|\\s]+("+U+")\\s*\\)?",I="[\\s|\\(]+("+U+")[,|\\s]+("+U+")[,|\\s]+("+U+")[,|\\s]+("+U+")\\s*\\)?",{CSS_UNIT:new RegExp(U),rgb:new RegExp("rgb"+R),rgba:new RegExp("rgba"+I),hsl:new RegExp("hsl"+R),hsla:new RegExp("hsla"+I),hsv:new RegExp("hsv"+R),hsva:new RegExp("hsva"+I),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function B(e){return!!j.CSS_UNIT.exec(e)}e.exports?e.exports=u:window.tinycolor=u}(Math)}),no=function(e){return isNaN(e)?parseInt(to(e).toHex(),16):e},ro=function(e){return isNaN(e)?to(e).getAlpha():1},ao=function e(){var t=new Map,n=[],r=[],a=en;function o(e){var o=e+"",i=t.get(o);if(!i){if(a!==en)return a;t.set(o,i=n.push(e))}return r[(i-1)%r.length]}return o.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new Map;for(const r of e){const e=r+"";t.has(e)||t.set(e,n.push(r))}return o},o.range=function(e){return arguments.length?(r=Array.from(e),o):r.slice()},o.unknown=function(e){return arguments.length?(a=e,o):a},o.copy=function(){return e(n,r).unknown(a)},function(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}.apply(o,arguments),o}(Ja);function oo(e,t,n){t&&"string"==typeof n&&e.filter(function(e){return!e[n]}).forEach(function(e){e[n]=ao(t(e))})}var io,fo,co,uo,so,lo,ho,bo,po,go,yo,vo,mo,xo,wo=window.THREE?window.THREE:{Mesh:e.Mesh,MeshLambertMaterial:e.MeshLambertMaterial,BufferGeometry:e.BufferGeometry,BufferAttribute:e.BufferAttribute,Matrix4:e.Matrix4,Vector3:e.Vector3,SphereBufferGeometry:e.SphereBufferGeometry,CylinderBufferGeometry:e.CylinderBufferGeometry,ConeBufferGeometry:e.ConeBufferGeometry,Line:e.Line,LineBasicMaterial:e.LineBasicMaterial,QuadraticBezierCurve3:e.QuadraticBezierCurve3,CubicBezierCurve3:e.CubicBezierCurve3},_o={graph:ye,forcelayout:Qe,forcelayout3d:Ft};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=function(f){function c(){var t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var f=arguments.length,u=new Array(f),s=0;s<f;s++)u[s]=arguments[s];return(r=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?o(e):t}(this,(t=n(c)).call.apply(t,[this].concat(u)))).__kapsuleInstance=e().apply(void 0,[].concat(i(a?[o(r)]:[]),u)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(c,t),c}();return Object.keys(e()).forEach(function(e){return f.prototype[e]=function(){var t,n=(t=this.__kapsuleInstance)[e].apply(t,arguments);return n===this.__kapsuleInstance?this:n}}),f}((fo=(io={props:{jsonUrl:{onChange:function(e,t){var n=this;e&&!t.fetchingJson&&(t.fetchingJson=!0,t.onLoading(),fetch(e).then(function(e){return e.json()}).then(function(e){t.fetchingJson=!1,n.graphData(e)}))},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,t){(e.nodes.length||e.links.length)&&console.info("force-graph loading",e.nodes.length+" nodes",e.links.length+" links"),t.engineRunning=!1,t.sceneNeedsRepopulating=!0,t.simulationNeedsReheating=!0}},numDimensions:{default:3,onChange:function(e,t){t.simulationNeedsReheating=!0;var n=t.d3ForceLayout.force("charge");function r(e,t){e.forEach(function(e){delete e[t],delete e["v".concat(t)]})}n&&n.strength(e>2?-60:-30),e<3&&r(t.graphData.nodes,"z"),e<2&&r(t.graphData.nodes,"y")}},dagMode:{onChange:function(e,t){!e&&"d3"===t.forceEngine&&(t.graphData.nodes||[]).forEach(function(e){return e.fx=e.fy=e.fz=void 0}),t.simulationNeedsReheating=!0}},dagLevelDistance:{onChange:function(e,t){t.simulationNeedsReheating=!0}},nodeRelSize:{default:4,onChange:function(e,t){t.sceneNeedsRepopulating=!0}},nodeId:{default:"id",onChange:function(e,t){t.simulationNeedsReheating=!0}},nodeVal:{default:"val",onChange:function(e,t){t.sceneNeedsRepopulating=!0}},nodeResolution:{default:8,onChange:function(e,t){t.sceneNeedsRepopulating=!0}},nodeColor:{default:"color",onChange:function(e,t){t.sceneNeedsRepopulating=!0}},nodeAutoColorBy:{onChange:function(e,t){t.sceneNeedsRepopulating=!0}},nodeOpacity:{default:.75,onChange:function(e,t){t.sceneNeedsRepopulating=!0}},nodeVisibility:{default:!0,onChange:function(e,t){t.sceneNeedsRepopulating=!0}},nodeThreeObject:{onChange:function(e,t){t.sceneNeedsRepopulating=!0}},nodeThreeObjectExtend:{default:!1,onChange:function(e,t){t.sceneNeedsRepopulating=!0}},linkSource:{default:"source",onChange:function(e,t){t.simulationNeedsReheating=!0}},linkTarget:{default:"target",onChange:function(e,t){t.simulationNeedsReheating=!0}},linkVisibility:{default:!0,onChange:function(e,t){t.sceneNeedsRepopulating=!0}},linkColor:{default:"color",onChange:function(e,t){t.sceneNeedsRepopulating=!0}},linkAutoColorBy:{onChange:function(e,t){t.sceneNeedsRepopulating=!0}},linkOpacity:{default:.2,onChange:function(e,t){t.sceneNeedsRepopulating=!0}},linkWidth:{onChange:function(e,t){t.sceneNeedsRepopulating=!0}},linkResolution:{default:6,onChange:function(e,t){t.sceneNeedsRepopulating=!0}},linkCurvature:{default:0,triggerUpdate:!1},linkCurveRotation:{default:0,triggerUpdate:!1},linkMaterial:{onChange:function(e,t){t.sceneNeedsRepopulating=!0}},linkThreeObject:{onChange:function(e,t){t.sceneNeedsRepopulating=!0}},linkThreeObjectExtend:{default:!1,onChange:function(e,t){t.sceneNeedsRepopulating=!0}},linkPositionUpdate:{triggerUpdate:!1},linkDirectionalArrowLength:{default:0,onChange:function(e,t){t.sceneNeedsRepopulating=!0}},linkDirectionalArrowColor:{onChange:function(e,t){t.sceneNeedsRepopulating=!0}},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1},linkDirectionalArrowResolution:{default:8,onChange:function(e,t){t.sceneNeedsRepopulating=!0}},linkDirectionalParticles:{default:0,onChange:function(e,t){t.sceneNeedsRepopulating=!0}},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:.5,onChange:function(e,t){t.sceneNeedsRepopulating=!0}},linkDirectionalParticleColor:{onChange:function(e,t){t.sceneNeedsRepopulating=!0}},linkDirectionalParticleResolution:{default:4,onChange:function(e,t){t.sceneNeedsRepopulating=!0}},forceEngine:{default:"d3",onChange:function(e,t){t.simulationNeedsReheating=!0}},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.velocityDecay(e)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onLoading:{default:function(){},triggerUpdate:!1},onFinishLoading:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1}},methods:{refresh:function(e){return e.sceneNeedsRepopulating=!0,e.simulationNeedsReheating=!0,e._rerender(),this},d3Force:function(e,t,n){return void 0===n?e.d3ForceLayout.force(t):(e.d3ForceLayout.force(t,n),this)},_updateScene:function(e){},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},tickFrame:function(e){var t,n,r,o,f="ngraph"!==e.forceEngine;return e.engineRunning&&function(){++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime?(e.engineRunning=!1,e.onEngineStop()):(e.layout[f?"tick":"step"](),e.onEngineTick());e.graphData.nodes.forEach(function(t){var n=t.__threeObj;if(n){var r=f?t:e.layout.getNodePosition(t[e.nodeId]);n.position.x=r.x,n.position.y=r.y||0,n.position.z=r.z||0}});var t=Wt(e.linkCurvature),n=Wt(e.linkCurveRotation),r=Wt(e.linkThreeObjectExtend);e.graphData.links.forEach(function(a){var o=a.__lineObj;if(o){var i=f?a:e.layout.getLinkPosition(e.layout.graph.getLink(a.source,a.target).id),c=i[f?"source":"from"],u=i[f?"target":"to"];if(c.hasOwnProperty("x")&&u.hasOwnProperty("x")){!function(r){var a=f?r:e.layout.getLinkPosition(e.layout.graph.getLink(r.source,r.target).id),o=a[f?"source":"from"],i=a[f?"target":"to"];if(!o.hasOwnProperty("x")||!i.hasOwnProperty("x"))return;var c=t(r);if(c){var u,s=new wo.Vector3(o.x,o.y||0,o.z||0),d=new wo.Vector3(i.x,i.y||0,i.z||0),l=s.distanceTo(d),h=n(r);if(l>0){var b=i.x-o.x,p=i.y-o.y||0,g=(new wo.Vector3).subVectors(d,s),y=g.clone().multiplyScalar(c).cross(0!==b||0!==p?new wo.Vector3(0,0,1):new wo.Vector3(0,1,0)).applyAxisAngle(g.normalize(),h).add((new wo.Vector3).addVectors(s,d).divideScalar(2));u=new wo.QuadraticBezierCurve3(s,y,d)}else{var v=70*c,m=-h,x=m+Math.PI/2;u=new wo.CubicBezierCurve3(s,new wo.Vector3(v*Math.cos(x),v*Math.sin(x),0).add(s),new wo.Vector3(v*Math.cos(m),v*Math.sin(m),0).add(s),d)}r.__curve=u}else r.__curve=null}(a);var s=r(a);if(!e.linkPositionUpdate||!e.linkPositionUpdate(s?o.children[0]:o,{start:{x:c.x,y:c.y,z:c.z},end:{x:u.x,y:u.y,z:u.z}},a)||s)if("Line"===o.type){var d=a.__curve;if(d)o.geometry.setFromPoints(d.getPoints(30));else{var l=o.geometry.getAttribute("position");l&&l.array&&6===l.array.length||o.geometry.addAttribute("position",l=new wo.BufferAttribute(new Float32Array(6),3)),l.array[0]=c.x,l.array[1]=c.y||0,l.array[2]=c.z||0,l.array[3]=u.x,l.array[4]=u.y||0,l.array[5]=u.z||0,l.needsUpdate=!0}o.geometry.computeBoundingSphere()}else if("Mesh"===o.type){a.__curve=null;var h=new wo.Vector3(c.x,c.y||0,c.z||0),b=new wo.Vector3(u.x,u.y||0,u.z||0),p=h.distanceTo(b);o.position.x=h.x,o.position.y=h.y,o.position.z=h.z,o.scale.z=p,o.parent.localToWorld(b),o.lookAt(b)}}}})}(),t=Wt(e.linkDirectionalArrowRelPos),n=Wt(e.linkDirectionalArrowLength),r=Wt(e.nodeVal),e.graphData.links.forEach(function(o){var c=o.__arrowObj;if(c){var u=f?o:e.layout.getLinkPosition(e.layout.graph.getLink(o.source,o.target).id),s=u[f?"source":"from"],d=u[f?"target":"to"];if(s.hasOwnProperty("x")&&d.hasOwnProperty("x")){var l=Math.sqrt(Math.max(0,r(s)||1))*e.nodeRelSize,h=Math.sqrt(Math.max(0,r(d)||1))*e.nodeRelSize,b=n(o),p=t(o),g=o.__curve?function(e){return o.__curve.getPoint(e)}:function(e){var t=function(e,t,n,r){return t[e]+(n[e]-t[e])*r||0};return{x:t("x",s,d,e),y:t("y",s,d,e),z:t("z",s,d,e)}},y=o.__curve?o.__curve.getLength():Math.sqrt(["x","y","z"].map(function(e){return Math.pow((d[e]||0)-(s[e]||0),2)}).reduce(function(e,t){return e+t},0)),v=l+b+(y-l-h-b)*p,m=g(v/y),x=g((v-b)/y);["x","y","z"].forEach(function(e){return c.position[e]=x[e]});var w=a(wo.Vector3,i(["x","y","z"].map(function(e){return m[e]})));c.parent.localToWorld(w),c.lookAt(w)}}}),o=Wt(e.linkDirectionalParticleSpeed),e.graphData.links.forEach(function(t){var n=t.__photonObjs;if(n&&n.length){var r=f?t:e.layout.getLinkPosition(e.layout.graph.getLink(t.source,t.target).id),a=r[f?"source":"from"],i=r[f?"target":"to"];if(a.hasOwnProperty("x")&&i.hasOwnProperty("x")){var c=o(t),u=t.__curve?function(e){return t.__curve.getPoint(e)}:function(e){var t=function(e,t,n,r){return t[e]+(n[e]-t[e])*r||0};return{x:t("x",a,i,e),y:t("y",a,i,e),z:t("z",a,i,e)}};n.forEach(function(e,t){var r=e.__progressRatio=((e.__progressRatio||t/n.length)+c)%1,a=u(r);["x","y","z"].forEach(function(t){return e.position[t]=a[t]})})}}}),this}},stateInit:function(){return{d3ForceLayout:be().force("link",L()).force("charge",pe()).force("center",f()).force("dagRadial",null).stop(),engineRunning:!1,sceneNeedsRepopulating:!0,simulationNeedsReheating:!0}},init:function(e,t){t.graphScene=e},update:function(e){if(e.engineRunning=!1,e.sceneNeedsRepopulating){e.sceneNeedsRepopulating=!1,null!==e.nodeAutoColorBy&&oo(e.graphData.nodes,Wt(e.nodeAutoColorBy),e.nodeColor),null!==e.linkAutoColorBy&&oo(e.graphData.links,Wt(e.linkAutoColorBy),e.linkColor);for(var n=function e(t){t.geometry&&t.geometry.dispose(),t.material&&function e(t){t instanceof Array?t.forEach(e):(t.map&&t.map.dispose(),t.dispose())}(t.material),t.texture&&t.texture.dispose(),t.children&&t.children.forEach(e)};e.graphScene.children.length;){var r=e.graphScene.children[0];e.graphScene.remove(r),n(r)}var a=Wt(e.nodeThreeObject),o=Wt(e.nodeThreeObjectExtend),f=Wt(e.nodeVal),c=Wt(e.nodeColor),u=Wt(e.nodeVisibility),s={},d={};e.graphData.nodes.forEach(function(t){if(u(t)){var n,r=a(t),i=o(t);if(r&&e.nodeThreeObject===r&&(r=r.clone()),r&&!i)n=r;else{var l=f(t)||1;s.hasOwnProperty(l)||(s[l]=new wo.SphereBufferGeometry(Math.cbrt(l)*e.nodeRelSize,e.nodeResolution,e.nodeResolution));var h=c(t);d.hasOwnProperty(h)||(d[h]=new wo.MeshLambertMaterial({color:no(h||"#ffffaa"),transparent:!0,opacity:e.nodeOpacity*ro(h)})),n=new wo.Mesh(s[l],d[h]),r&&i&&n.add(r)}n.__graphObjType="node",n.__data=t,e.graphScene.add(t.__threeObj=n)}else t.__threeObj=null});var l=Wt(e.linkThreeObject),h=Wt(e.linkThreeObjectExtend),b=Wt(e.linkMaterial),p=Wt(e.linkVisibility),g=Wt(e.linkColor),y=Wt(e.linkWidth),v=Wt(e.linkDirectionalArrowLength),m=Wt(e.linkDirectionalArrowColor),x=Wt(e.linkDirectionalParticles),w=Wt(e.linkDirectionalParticleWidth),_=Wt(e.linkDirectionalParticleColor),M={},k={},N={},A={};e.graphData.links.forEach(function(t){if(p(t)){var n,r=g(t),a=l(t),o=h(t);if(a&&e.linkThreeObject===a&&(a=a.clone()),a&&!o)n=a;else{var f,c=Math.ceil(10*y(t))/10,u=!!c;if(u){if(!k.hasOwnProperty(c)){var s=c/2;(f=new wo.CylinderBufferGeometry(s,s,1,e.linkResolution,1,!1)).applyMatrix((new wo.Matrix4).makeTranslation(0,.5,0)),f.applyMatrix((new wo.Matrix4).makeRotationX(Math.PI/2)),k[c]=f}f=k[c]}else(f=new wo.BufferGeometry).addAttribute("position",new wo.BufferAttribute(new Float32Array(6),3));var d=b(t);if(!d){if(!M.hasOwnProperty(r)){var z=e.linkOpacity*ro(r);M[r]=new wo.MeshLambertMaterial({color:no(r||"#f0f0f0"),transparent:z<1,opacity:z,depthWrite:z>=1})}d=M[r]}n=new wo[u?"Mesh":"Line"](f,d),a&&o&&n.add(a)}n.renderOrder=10,n.__graphObjType="link",n.__data=t,e.graphScene.add(t.__lineObj=n);var C=v(t);if(C&&C>0){var T=m(t)||r||"#f0f0f0",q=new wo.ConeBufferGeometry(.25*C,C,e.linkDirectionalArrowResolution);q.translate(0,C/2,0),q.rotateX(Math.PI/2);var P=new wo.Mesh(q,new wo.MeshLambertMaterial({color:no(T),transparent:!0,opacity:3*e.linkOpacity}));e.graphScene.add(t.__arrowObj=P)}var D=Math.round(Math.abs(x(t))),E=Math.ceil(10*w(t))/10/2,S=_(t)||r||"#f0f0f0";A.hasOwnProperty(E)||(A[E]=new wo.SphereBufferGeometry(E,e.linkDirectionalParticleResolution,e.linkDirectionalParticleResolution));var O=A[E];N.hasOwnProperty(S)||(N[S]=new wo.MeshLambertMaterial({color:no(S),transparent:!0,opacity:3*e.linkOpacity}));var L=N[S],U=i(Array(D)).map(function(){return new wo.Mesh(O,L)});U.forEach(function(t){return e.graphScene.add(t)}),t.__photonObjs=U}else t.__lineObj=t.__arrowObj=t.__photonObjs=null})}if(e.simulationNeedsReheating){e.simulationNeedsReheating=!1,e.engineRunning=!1,e.graphData.links.forEach(function(t){t.source=t[e.linkSource],t.target=t[e.linkTarget]});var z,C="ngraph"!==e.forceEngine;if(C){(z=e.d3ForceLayout).stop().alpha(1).numDimensions(e.numDimensions).nodes(e.graphData.nodes);var T=e.d3ForceLayout.force("link");T&&T.id(function(t){return t[e.nodeId]}).links(e.graphData.links);var q=e.dagMode&&(j=e.graphData,B=function(t){return t[e.nodeId]},F=j.nodes,V=j.links,H={},F.forEach(function(e){return H[B(e)]={data:e,out:[],depth:-1}}),V.forEach(function(e){var n=e.source,r=e.target,a=c(n),o=c(r);if(!H.hasOwnProperty(a))throw"Missing source node with id: ".concat(a);if(!H.hasOwnProperty(o))throw"Missing target node with id: ".concat(o);var i=H[a],f=H[o];function c(e){return"object"===t(e)?B(e):e}i.out.push(f)}),function e(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=n.length,a=0,o=t.length;a<o;a++){var f=t[a];if(-1!==n.indexOf(f)){var c=[].concat(i(n.slice(n.indexOf(f))),[f]).map(function(e){return B(e.data)});throw"Invalid DAG structure! Found cycle in node path: ".concat(c.join(" -> "),".")}r>f.depth&&(f.depth=r,e(f.out,[].concat(i(n),[f])))}}(Object.values(H)),Object.keys(H).forEach(function(e){return H[e]=H[e].depth}),H),P=Math.max.apply(Math,i(Object.values(q||[]))),E=e.dagLevelDistance||e.graphData.nodes.length/(P||1)*2*(-1!==["radialin","radialout"].indexOf(e.dagMode)?.7:1);if(e.dagMode){var S=function(t,n){return function(r){return t?(q[r[e.nodeId]]-P/2)*E*(n?-1:1):void 0}},O=S(-1!==["lr","rl"].indexOf(e.dagMode),"rl"===e.dagMode),L=S(-1!==["td","bu"].indexOf(e.dagMode),"td"===e.dagMode),U=S(-1!==["zin","zout"].indexOf(e.dagMode),"zout"===e.dagMode);e.graphData.nodes.forEach(function(e){e.fx=O(e),e.fy=L(e),e.fz=U(e)})}e.d3ForceLayout.force("dagRadial",-1!==["radialin","radialout"].indexOf(e.dagMode)?function(e,t,n,r){var a,o,i,f,c=D(.1);function u(e){for(var c=0,u=a.length;c<u;++c){var s=a[c],d=s.x-t||1e-6,l=(s.y||0)-n||1e-6,h=(s.z||0)-r||1e-6,b=Math.sqrt(d*d+l*l+h*h),p=(f[c]-b)*i[c]*e/b;s.vx+=d*p,o>1&&(s.vy+=l*p),o>2&&(s.vz+=h*p)}}function s(){if(a){var t,n=a.length;for(i=new Array(n),f=new Array(n),t=0;t<n;++t)f[t]=+e(a[t],t,a),i[t]=isNaN(f[t])?0:+c(a[t],t,a)}}return"function"!=typeof e&&(e=D(+e)),null==t&&(t=0),null==n&&(n=0),null==r&&(r=0),u.initialize=function(e,t){a=e,o=t,s()},u.strength=function(e){return arguments.length?(c="function"==typeof e?e:D(+e),s(),u):c},u.radius=function(t){return arguments.length?(e="function"==typeof t?t:D(+t),s(),u):e},u.x=function(e){return arguments.length?(t=+e,u):t},u.y=function(e){return arguments.length?(n=+e,u):n},u.z=function(e){return arguments.length?(r=+e,u):r},u}(function(t){var n=q[t[e.nodeId]];return("radialin"===e.dagMode?P-n:n)*E}).strength(1):null)}else{var R=_o.graph();e.graphData.nodes.forEach(function(t){R.addNode(t[e.nodeId])}),e.graphData.links.forEach(function(e){R.addLink(e.source,e.target)}),(z=_o["forcelayout"+(2===e.numDimensions?"":"3d")](R)).graph=R}for(var I=0;I<e.warmupTicks;I++)z[C?"tick":"step"]();e.layout=z,this.resetCountdown(),e.onFinishLoading()}var j,B,F,V,H;e.engineRunning=!0}}).stateInit,co=void 0===fo?function(){return{}}:fo,uo=io.props,so=void 0===uo?{}:uo,lo=io.methods,ho=void 0===lo?{}:lo,bo=io.aliases,po=void 0===bo?{}:bo,go=io.init,yo=void 0===go?function(){}:go,vo=io.update,mo=void 0===vo?function(){}:vo,xo=Object.keys(so).map(function(e){return new $t(e,so[e])}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},co instanceof Function?co(e):co,{initialised:!1});function n(t){return r(t,e),a(),n}var r=function(e,r){yo.call(n,e,t,r),t.initialised=!0},a=Xt(function(){t.initialised&&mo.call(n,t)},1);return xo.forEach(function(e){n[e.name]=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){};return function(i){var f=t[e];return arguments.length?(t[e]=i,o.call(n,i,t,f),r&&a(),n):f}}(e.name,e.triggerUpdate,e.onChange)}),Object.keys(ho).forEach(function(e){n[e]=function(){for(var r,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(r=ho[e]).call.apply(r,[n,t].concat(o))}}),Object.entries(po).forEach(function(e){var t=Gt(e,2),r=t[0],a=t[1];return n[r]=n[a]}),n.resetProps=function(){return xo.forEach(function(e){n[e.name](e.defaultVal)}),n},n.resetProps(),t._rerender=a,n}),(window.THREE?window.THREE:{Group:e.Group}).Group,!0)});